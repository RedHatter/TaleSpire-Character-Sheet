var app=function(e){"use strict";function t(){}const n=e=>e;function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n,r){if(e){const o=c(e,t,n,r);return e[0](o)}}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r,o,i,a){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(l){const o=c(t,n,r,a);e.p(o,l)}}function f(e){return e&&a(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),m=d?e=>requestAnimationFrame(e):t;const h=new Set;function v(e){h.forEach((t=>{t.c(e)||(h.delete(t),t.f())})),0!==h.size&&m(v)}function $(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function x(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function w(){return _(" ")}function k(){return _("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function I(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function N(e){return""===e?null:+e}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function D(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function A(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function T(e,t,n){e.classList[n?"add":"remove"](t)}function R(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const j=new Set;let O,P=0;function M(e,t,n,r,o,i,a,l=0){const s=16.666/r;let c="{\n";for(let e=0;e<=1;e+=s){const r=t+(n-t)*i(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,d=e.ownerDocument;j.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(x("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${o}ms 1 both`,P+=1,f}function B(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),P-=o,P||m((()=>{P||(j.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),j.clear())})))}function L(e){O=e}function F(){if(!O)throw new Error("Function called outside component initialization");return O}function W(e){F().$$.on_mount.push(e)}function z(){const e=F();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=R(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function H(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const U=[],X=[],J=[],K=[],G=Promise.resolve();let Q=!1;function V(e){J.push(e)}function Y(e){K.push(e)}let Z=!1;const ee=new Set;function te(){if(!Z){Z=!0;do{for(let e=0;e<U.length;e+=1){const t=U[e];L(t),ne(t.$$)}for(L(null),U.length=0;X.length;)X.pop()();for(let e=0;e<J.length;e+=1){const t=J[e];ee.has(t)||(ee.add(t),t())}J.length=0}while(U.length);for(;K.length;)K.pop()();Q=!1,Z=!1,ee.clear()}}function ne(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}let re;function oe(e,t,n){e.dispatchEvent(R(`${t?"intro":"outro"}${n}`))}const ie=new Set;let ae;function le(){ae={r:0,c:[],p:ae}}function se(){ae.r||i(ae.c),ae=ae.p}function ce(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function ue(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),ae.c.push((()=>{ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const fe={duration:0};function de(e,r,o,l){let s=r(e,o),c=l?0:1,u=null,f=null,d=null;function $(){d&&B(e,d)}function g(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(r){const{delay:o=0,duration:a=300,easing:l=n,tick:b=t,css:y}=s||fe,x={start:p()+o,b:r};r||(x.group=ae,ae.r+=1),u||f?f=x:(y&&($(),d=M(e,c,r,a,o,l,y)),r&&b(0,1),u=g(x,a),V((()=>oe(e,r,"start"))),function(e){let t;0===h.size&&m(v),new Promise((n=>{h.add(t={c:e,f:n})}))}((t=>{if(f&&t>f.start&&(u=g(f,a),f=null,oe(e,u.b,"start"),y&&($(),d=M(e,c,u.b,u.duration,0,l,s.css))),u)if(t>=u.end)b(c=u.b,1-c),oe(e,u.b,"end"),f||(u.b?$():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*l(e/u.duration),b(c,1-c)}return!(!u&&!f)})))}return{run(e){a(s)?(re||(re=Promise.resolve(),re.then((()=>{re=null}))),re).then((()=>{s=s(),b(e)})):b(e)},end(){$(),u=f=null}}}function pe(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function me(e){e&&e.c()}function he(e,t,n,o){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(t,n),o||V((()=>{const t=s.map(r).filter(a);c?c.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(V)}function ve(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){-1===e.$$.dirty[0]&&(U.push(e),Q||(Q=!0,G.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ge(e,n,r,a,l,s,c=[-1]){const u=O;L(e);const f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:o(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),d&&$e(e,t)),n})):[],f.update(),d=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&ce(e.$$.fragment),he(e,n.target,n.anchor,n.customElement),te()}L(u)}class be{$destroy(){ve(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function xe(e){var t={exports:{}};return e(t,t.exports),t.exports}function _e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/*!
        localForage -- Offline Storage, Improved
        Version 1.9.0
        https://localforage.github.io/localForage
        (c) 2013-2017 Mozilla, Apache License 2.0
    */var we=xe((function(e,t){e.exports=function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){if(!l&&_e)return _e(a);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return o(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=_e,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),l=e.document.createTextNode("");a.observe(l,{characterData:!0}),n=function(){l.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var s=new e.MessageChannel;s.port1.onmessage=u,n=function(){s.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function f(e){1!==c.push(e)||r||n()}t.exports=f}).call(this,void 0!==ye?ye:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],l=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}function a(){t(o,r)}var l=m(a);"error"===l.status&&r(l.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function h(e){return e instanceof this?e:i.resolve(new this(o),e)}function v(e){var t=new this(o);return i.reject(t,e)}function $(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),l=0,s=-1,c=new this(o);++s<n;)u(e[s],s);return c;function u(e,o){function s(e){a[o]=e,++l!==n||r||(r=!0,i.resolve(c,a))}t.resolve(e).then(s,(function(e){r||(r=!0,i.reject(c,e))}))}}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,l=new this(o);++a<n;)s(e[a]);return l;function s(e){t.resolve(e).then((function(e){r||(r=!0,i.resolve(l,e))}),(function(e){r||(r=!0,i.reject(l,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==s?f(n,this.state===l?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=m(d,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=l,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=h,c.reject=v,c.all=$,c.race=g},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==ye?ye:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function l(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function f(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function p(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",h=void 0,v={},$=Object.prototype.toString,g="readonly",b="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function x(e){return new c((function(t){var n=e.transaction(m,b),r=s([""]);n.objectStore(m).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function _(e){return"boolean"==typeof h?c.resolve(h):x(e).then((function(e){return h=e}))}function w(e){var t=v[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function k(e){var t=v[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=v[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function I(e,t){return new c((function(n,r){if(v[e.name]=v[e.name]||O(),e.db){if(!t)return n(e.db);w(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(m)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),k(e)}}))}function E(e){return I(e,!1)}function N(e){return I(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function q(e){return new c((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function D(e){return s([y(atob(e.data))],{type:e.type})}function A(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,n=t._initReady().then((function(){var e=v[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return f(n,e,e),n}function R(e){w(e);for(var t=v[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,C(e)?N(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw S(e,t),t}))}function j(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),N(e)})).then((function(){return R(e).then((function(){j(e,t,n,r-1)}))})).catch(n);n(o)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=v[n.name];o||(o=O(),v[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var i=[];function a(){return c.resolve()}for(var l=0;l<o.forages.length;l++){var s=o.forages[l];s!==t&&i.push(s._initReady().catch(a))}var u=o.forages.slice(0);return c.all(i).then((function(){return n.db=o.db,E(n)})).then((function(e){return n.db=e,C(n,t._defaultConfig.version)?N(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function M(e,t){var n=this;e=d(e);var r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),A(e)&&(e=D(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function B(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),l=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;A(r)&&(r=D(r));var o=e(r,n.key,l++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function L(e,t,n){var r=this;e=d(e);var o=new c((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===$.call(t)?_(i.db).then((function(e){return e?t:q(t)})):t})).then((function(t){j(r._dbInfo,b,(function(i,a){if(i)return o(i);try{var l=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var s=l.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return u(o,n),o}function F(e,t){var n=this;e=d(e);var r=new c((function(t,r){n.ready().then((function(){j(n._dbInfo,b,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function W(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,b,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function z(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function H(e,t){var n=this,r=new c((function(t,r){e<0?t(null):n.ready().then((function(){j(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),l=!1,s=a.openKeyCursor();s.onsuccess=function(){var n=s.result;n?0===e||l?t(n.key):(l=!0,n.advance(e)):t(null)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return u(r,t),r}function U(e){var t=this,n=new c((function(e,n){t.ready().then((function(){j(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return u(n,e),n}function X(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var i=e.name===n.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):E(e).then((function(t){var n=v[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;w(e);var r=v[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var l=o[i];l._dbInfo.db=null,l._dbInfo.version=n}return new c((function(t,r){var o=a.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,k(n._dbInfo)}})).catch((function(t){throw(S(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){w(e);var n=v[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new c((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)k(r[t]._dbInfo)})).catch((function(t){throw(S(e,t)||c.resolve()).catch((function(){})),t}))}))}else r=c.reject("Invalid arguments");return u(r,t),r}var J={_driver:"asyncStorage",_initStorage:P,_support:l(),iterate:B,getItem:M,setItem:L,removeItem:F,clear:W,length:z,key:H,keys:U,dropInstance:X};function K(){return"function"==typeof openDatabase}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="~~local_forage_type~",V=/^~~local_forage_type~([^~]+)~/,Y="__lfsc__:",Z=Y.length,ee="arbf",te="blob",ne="si08",re="ui08",oe="uic8",ie="si16",ae="si32",le="ur16",se="ui32",ce="fl32",ue="fl64",fe=Z+ee.length,de=Object.prototype.toString;function pe(e){var t,n,r,o,i,a=.75*e.length,l=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<l;t+=4)n=G.indexOf(e[t]),r=G.indexOf(e[t+1]),o=G.indexOf(e[t+2]),i=G.indexOf(e[t+3]),u[s++]=n<<2|r>>4,u[s++]=(15&r)<<4|o>>2,u[s++]=(3&o)<<6|63&i;return c}function me(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=G[n[t]>>2],r+=G[(3&n[t])<<4|n[t+1]>>4],r+=G[(15&n[t+1])<<2|n[t+2]>>6],r+=G[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function he(e,t){var n="";if(e&&(n=de.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===de.call(e.buffer))){var r,o=Y;e instanceof ArrayBuffer?(r=e,o+=ee):(r=e.buffer,"[object Int8Array]"===n?o+=ne:"[object Uint8Array]"===n?o+=re:"[object Uint8ClampedArray]"===n?o+=oe:"[object Int16Array]"===n?o+=ie:"[object Uint16Array]"===n?o+=le:"[object Int32Array]"===n?o+=ae:"[object Uint32Array]"===n?o+=se:"[object Float32Array]"===n?o+=ce:"[object Float64Array]"===n?o+=ue:t(new Error("Failed to get type for BinaryArray"))),t(o+me(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=Q+e.type+"~"+me(this.result);t(Y+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function ve(e){if(e.substring(0,Z)!==Y)return JSON.parse(e);var t,n=e.substring(fe),r=e.substring(Z,fe);if(r===te&&V.test(n)){var o=n.match(V);t=o[1],n=n.substring(o[0].length)}var i=pe(n);switch(r){case ee:return i;case te:return s([i],{type:t});case ne:return new Int8Array(i);case re:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case le:return new Uint16Array(i);case ae:return new Int32Array(i);case se:return new Uint32Array(i);case ce:return new Float32Array(i);case ue:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var $e={serialize:he,deserialize:ve,stringToBuffer:pe,bufferToString:me};function ge(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function be(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new c((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){ge(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=$e,o}function ye(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,l){l.rows.length?i(e,a):ge(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function xe(e,t){var n=this;e=d(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){ye(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function _e(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){ye(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,l=0;l<a;l++){var s=i.item(l),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,s.key,l+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function we(e,t,n,r){var o=this;e=d(e);var i=new c((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var l=t,s=o._dbInfo;s.serializer.serialize(t,(function(t,c){c?a(c):s.db.transaction((function(n){ye(n,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(l)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(we.apply(o,[e,l,n,r-1]));a(t)}}))}))})).catch(a)}));return u(i,n),i}function ke(e,t,n){return we.apply(this,[e,t,n,1])}function Se(e,t){var n=this;e=d(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){ye(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Ie(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ee(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ne(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){ye(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Ce(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function qe(e){return new c((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function De(e,t){t=p.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return u(r=e.name?new c((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(qe(r))})).then((function(e){return new c((function(t,n){e.db.transaction((function(r){function o(e){return new c((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,l=e.storeNames.length;a<l;a++)i.push(o(e.storeNames[a]));c.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),t),r}var Ae={_driver:"webSQLStorage",_initStorage:be,_support:K(),iterate:_e,getItem:xe,setItem:ke,removeItem:Se,clear:Ie,length:Ee,key:Ne,keys:Ce,dropInstance:De};function Te(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Re(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function je(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Oe(){return!je()||localStorage.length>0}function Pe(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Re(e,t._defaultConfig),Oe()?(t._dbInfo=n,n.serializer=$e,c.resolve()):c.reject()}function Me(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return u(n,e),n}function Be(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return u(r,t),r}function Le(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,l=0;l<i;l++){var s=localStorage.key(l);if(0===s.indexOf(r)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(o),a++)))return c}}}));return u(r,t),r}function Fe(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return u(r,t),r}function We(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return u(n,e),n}function ze(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t}function He(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(r,t),r}function Ue(e,t,n){var r=this;e=d(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return u(o,n),o}function Xe(e,t){if(t=p.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return u(r=e.name?new c((function(t){e.storeName?t(Re(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),t),r}var Je={_driver:"localStorageWrapper",_initStorage:Pe,_support:Te(),iterate:Le,getItem:Be,setItem:Ue,removeItem:He,clear:Me,length:ze,key:Fe,keys:We,dropInstance:Xe},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ge=function(e,t){for(var n=e.length,r=0;r<n;){if(Ke(e[r],t))return!0;r++}return!1},Qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ve={},Ye={},Ze={INDEXEDDB:J,WEBSQL:Ae,LOCALSTORAGE:Je},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Qe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=new(function(){function e(t){for(var n in o(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],i=r._driver;this[n]=i,Ve[i]||this.defineDriver(r)}this._defaultConfig=it({},rt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=nt.concat("_initStorage"),a=0,l=i.length;a<l;a++){var s=i[a];if((!Ge(tt,s)||e[s])&&"function"!=typeof e[s])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];e[o]||(e[o]=t(o))}}();var f=function(n){Ve[r]&&console.info("Redefining LocalForage driver: "+r),Ve[r]=e,Ye[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return f(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ve[e]?c.resolve(Ve[e]):c.reject(new Error("Driver not found."));return f(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve($e);return f(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return f(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Qe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}function l(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var l=new Error("No available storage method found.");return r._driverSet=c.reject(l),r._driverSet}return n()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=s.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=l(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet})),f(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ye[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)ot(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=at},{3:3}]},{},[4])(4)})),ke=xe((function(e,t){!function(e,t){function n(e){return n.result?n.result:e&&"function"==typeof e.getSerializer?(n.result=e.getSerializer(),n.result):Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function r(e,t){return t&&e.then((function(e){t(null,e)}),(function(e){t(e)})),e}function o(e,t){var n=this.getItem(e).then((function(t){return{key:e,value:t}}));return r(n,t),n}function i(e){var t=this;return new Promise((function(n,r){for(var i=[],a=0,l=e.length;a<l;a++)i.push(o.call(t,e[a]));Promise.all(i).then((function(e){for(var t={},r=0,o=e.length;r<o;r++){var i=e[r];t[i.key]=i.value}n(t)})).catch(r)}))}function a(){var e={};return this.iterate((function(t,n){e[n]=t})).then((function(){return e}))}function l(){return"undefined"!=typeof IDBKeyRange?IDBKeyRange:"undefined"!=typeof webkitIDBKeyRange?webkitIDBKeyRange:"undefined"!=typeof mozIDBKeyRange?mozIDBKeyRange:void 0}t="default"in t?t.default:t;var s=l();function c(e){e=e.slice();var t=this;function n(e,t){return e<t?-1:e>t?1:0}return new Promise((function(r,o){t.ready().then((function(){var i=t._dbInfo,a=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),l=e.sort(n),c=s.bound(e[0],e[e.length-1],!1,!1),u=a.openCursor(c),f={},d=0;u.onsuccess=function(){var e=u.result;if(e){for(var t=e.key;t>l[d];)if(++d===l.length)return void r(f);if(t===l[d]){var n=e.value;void 0===n&&(n=null),f[t]=n,e.continue()}else e.continue(l[d])}else r(f)},u.onerror=function(){o(u.error)}})).catch(o)}))}function u(e){var t=this;return new Promise((function(r,o){t.ready().then((function(){return n(t)})).then((function(n){var i=t._dbInfo;i.db.transaction((function(t){for(var a=new Array(e.length),l=0,s=e.length;l<s;l++)a[l]="?";t.executeSql("SELECT * FROM "+i.storeName+" WHERE (key IN ("+a.join(",")+"))",e,(function(e,t){for(var o={},i=t.rows,a=0,l=i.length;a<l;a++){var s=i.item(a),c=s.value;c&&(c=n.deserialize(c)),o[s.key]=c}r(o)}),(function(e,t){o(t)}))}))})).catch(o)}))}function f(e,t){var n,o=this;if(arguments.length&&null!==e){var l=o.driver();n=l===o.INDEXEDDB?c.apply(o,arguments):l===o.WEBSQL?u.apply(o,arguments):i.apply(o,arguments)}else n=a.apply(o);return r(n,t),n}function d(e){var t=Object.getPrototypeOf(e);t&&(t.getItems=f,t.getItems.indexedDB=function(){return c.apply(this,arguments)},t.getItems.websql=function(){return u.apply(this,arguments)},t.getItems.generic=function(){return i.apply(this,arguments)})}var p=d(t);e.localforageGetItems=f,e.extendPrototype=d,e.extendPrototypeResult=p,e.getItemsGeneric=i,Object.defineProperty(e,"__esModule",{value:!0})}(t,we)}));function Se(e=0,t){return void 0===t&&(t=e,e=0),Array.from({length:t-e},((t,n)=>n+e))}function Ie(e,t){return Object.fromEntries(Object.entries(e).map((([e,n])=>[e,t(n,e)])))}function Ee(e){return Object.entries(e).filter((e=>"number"==typeof e[1])).map((([e,t])=>({value:t,text:e})))}const Ne=new ResizeObserver((e=>{for(const t of e){const e=t.target;e.style.backgroundImage=qe(e.clientWidth,e.clientHeight)}}));function Ce(e){return Ne.observe(e),{destroy(){Ne.unobserve(e)}}}function qe(e,t){const n=()=>10*Math.random()+20,r=()=>2*Math.random();let o=`M ${r()} ${r()}`,i=e-2,a=t-2;for(let e=0;e<i;e+=n())o+=` L ${Math.min(e,i).toFixed(3)} ${r().toFixed(3)}`;for(let e=0;e<a;e+=n())o+=` L ${(i-r()).toFixed(3)} ${Math.min(e,a).toFixed(3)}`;for(let e=i;e>0;e-=n())o+=` L ${Math.max(e,0).toFixed(3)} ${(a-r()).toFixed(3)}`;for(let e=a;e>0;e-=n())o+=` L ${r().toFixed(3)} ${Math.max(e,0).toFixed(3)}`;return o+=" Z",`url('data:image/svg+xml;utf8,<svg viewBox="0 0 ${e} ${t}" xmlns="http://www.w3.org/2000/svg"><path d="${o}" fill="none" stroke="%23D1D5DB" stroke-width="1"/></svg>')`}function De(e,t={target:document.body}){t.target.append(e)}var Ae,Te,Re,je,Oe,Pe;!function(e){e[e.D4=0]="D4",e[e.D6=1]="D6",e[e.D8=2]="D8",e[e.D10=3]="D10",e[e.D12=4]="D12"}(Ae||(Ae={})),function(e){e[e.STR=0]="STR",e[e.DEX=1]="DEX",e[e.CON=2]="CON",e[e.INT=3]="INT",e[e.WIS=4]="WIS",e[e.CHA=5]="CHA"}(Te||(Te={})),function(e){e[e.None=0]="None",e[e.Proficient=1]="Proficient",e[e.Expertise=2]="Expertise",e[e.JackOfAllTrades=3]="JackOfAllTrades"}(Re||(Re={}));class Me{constructor(e="Unnamed Attack",t=Te.STR,n=0,r=!0,o="20/60 feet",i="",a=Te.STR,l=0,s=""){this.name=e,this.attackAbility=t,this.attackModifier=n,this.proficient=r,this.range=o,this.damageRoll=i,this.damageAbility=a,this.damageModifier=l,this.damageType=s}}!function(e){e[e.Item=0]="Item",e[e.Equipment=1]="Equipment"}(je||(je={}));class Be{constructor(e="Unnamed Item",t="",n=1,r=0,o=je.Item,i=!1){this.name=e,this.description=t,this.count=n,this.weight=r,this.type=o,this.isEquipped=i}}class Le{constructor(e="Unnamed Skill",t=Re.Proficient,n=Te.STR,r=0,o=""){this.name=e,this.proficient=t,this.ability=n,this.modifier=r,this.description=o}}!function(e){e[e.Language=0]="Language",e[e.Weapon=1]="Weapon",e[e.Armor=2]="Armor",e[e.Other=3]="Other"}(Oe||(Oe={}));class Fe{constructor(e=Oe.Language,t="",n=""){this.type=e,this.name=t,this.source=n}}class We{constructor(e="Unnamed Feature",t="",n=""){this.name=e,this.source=t,this.description=n}}class ze{constructor(e="Unnamed Tracker",t=0,n=0){this.name=e,this.max=t,this.current=n}}class He{constructor(e="Unnamed Effect",t="",n="",r="",o=[]){this.name=e,this.source=t,this.duration=n,this.description=r,this.modifiers=o}}class Ue{constructor(e=Te.STR,t=""){this.stat=e,this.expr=t}}!function(e){e[e.AC=6]="AC",e[e.SPEED=7]="SPEED"}(Pe||(Pe={}));class Xe{constructor(){this.uid=((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t})(9),this.name="Unnamed Character",this.playerClass="",this.level=1,this.background="",this.race="",this.alignment="",this.exp=0,this.abilityScores={[Te.STR]:10,[Te.DEX]:10,[Te.CON]:10,[Te.INT]:10,[Te.WIS]:10,[Te.CHA]:10},this.tools=[],this.proficiencies=[],this.inspiration=!1,this.proficiency=2,this.savingThrows={[Te.STR]:!1,[Te.DEX]:!1,[Te.CON]:!1,[Te.INT]:!1,[Te.WIS]:!1,[Te.CHA]:!1},this.skills={acrobatics:Re.None,animalHandling:Re.None,arcana:Re.None,athletics:Re.None,deception:Re.None,history:Re.None,insight:Re.None,intimidation:Re.None,investigation:Re.None,medicine:Re.None,nature:Re.None,perception:Re.None,performance:Re.None,persuasion:Re.None,religion:Re.None,sleightOfHand:Re.None,stealth:Re.None,survival:Re.None},this.armorClass=10,this.speed=30,this.hp={max:10,current:10,temp:0},this.hitDice={max:1,current:1,type:Ae.D6},this.deathSaves={success:0,failure:0},this.attacks=[],this.equipment=[],this.coin=0,this.traits="",this.ideals="",this.bonds="",this.flaws="",this.trackers=[new ze("Class Resource"),new ze("Other Resource")],this.features=[],this.effects=[]}}const Je={[Te.STR]:"Strength",[Te.DEX]:"Dexterity",[Te.CON]:"Constitution",[Te.INT]:"Intelligence",[Te.WIS]:"Wisdom",[Te.CHA]:"Charisma"};function Ke(e){const t=e-1;return t*t*t+1}function Ge(e,{delay:t=0,duration:n=400,easing:r=Ke,x:o=0,y:i=0,opacity:a=0}={}){const l=getComputedStyle(e),s=+l.opacity,c="none"===l.transform?"":l.transform,u=s*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${s-u*t}`}}function Qe(e){let t,n,r,o,a,l,c;const d=e[3].default,p=s(d,e,e[2],null);return{c(){t=x("div"),n=x("div"),p&&p.c(),E(n,"class",r=e[0]+" rounded bg-white shadow"),E(t,"class","fixed inset-0 z-50 flex overflow-auto items-center justify-center")},m(r,o){g(r,t,o),$(t,n),p&&p.m(n,null),a=!0,l||(c=[S(window,"keydown",e[5]),S(window,"popstate",e[1]),S(n,"click",I(e[4])),f(De.call(null,t)),S(t,"click",e[1])],l=!0)},p(e,[t]){p&&p.p&&(!a||4&t)&&u(p,d,e,e[2],t,null,null),(!a||1&t&&r!==(r=e[0]+" rounded bg-white shadow"))&&E(n,"class",r)},i(e){a||(ce(p,e),V((()=>{o||(o=de(n,Ge,{duration:300,y:-50},!0)),o.run(1)})),a=!0)},o(e){ue(p,e),o||(o=de(n,Ge,{duration:300,y:-50},!1)),o.run(0),a=!1},d(e){e&&b(t),p&&p.d(e),e&&o&&o.end(),l=!1,i(c)}}}function Ve(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=z();let{class:a=""}=t;function l(){i("close")}W((()=>{const e=document.getElementsByTagName("main")[0];return e.classList.add("filter","blur"),history.pushState("dialog",null),()=>{e.classList.remove("filter","blur"),"dialog"===history.state&&history.back()}}));return e.$$set=e=>{"class"in e&&n(0,a=e.class),"$$scope"in e&&n(2,o=e.$$scope)},[a,l,o,r,function(t){H(e,t)},e=>"Escape"==e.key&&l()]}class Ye extends be{constructor(e){super(),ge(this,e,Ve,Qe,l,{class:0})}}const Ze=e=>({index:4&e}),et=e=>({index:e[2]});function tt(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function nt(e){let t,n,r,o,i=e[12].name+"";function a(){return e[8](e[14])}return{c(){t=x("li"),n=_(i),E(t,"class","py-2 px-4 hover:bg-blue-100 cursor-pointer"),T(t,"bg-blue-50",e[2]===e[14])},m(e,i){g(e,t,i),$(t,n),r||(o=S(t,"click",a),r=!0)},p(r,o){e=r,1&o&&i!==(i=e[12].name+"")&&C(n,i),4&o&&T(t,"bg-blue-50",e[2]===e[14])},d(e){e&&b(t),r=!1,o()}}}function rt(e){let n;return{c(){n=x("div"),n.textContent="Select an item to the right",E(n,"class","w-96 flex items-center justify-center")},m(e,t){g(e,n,t)},p:t,i:t,o:t,d(e){e&&b(n)}}}function ot(e){let t,n;const r=e[7].default,o=s(r,e,e[11],et);return{c(){t=x("div"),o&&o.c(),E(t,"class",e[1])},m(e,r){g(e,t,r),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||2052&i)&&u(o,r,e,e[11],i,Ze,et),(!n||2&i)&&E(t,"class",e[1])},i(e){n||(ce(o,e),n=!0)},o(e){ue(o,e),n=!1},d(e){e&&b(t),o&&o.d(e)}}}function it(e){let t,n,r,o,a,l,s,c,u,f,d,p,m,h,v,_=e[0],k=[];for(let t=0;t<_.length;t+=1)k[t]=nt(tt(e,_,t));const I=[ot,rt],N=[];function C(e,t){return e[2]>-1?0:1}return l=C(e),s=N[l]=I[l](e),{c(){t=x("div"),n=x("ul");for(let e=0;e<k.length;e+=1)k[e].c();r=w(),o=x("li"),o.textContent="+",a=w(),s.c(),c=w(),u=x("div"),f=x("button"),f.textContent="Remove",d=w(),p=x("button"),p.textContent="Close",E(o,"class","py-2 px-4 hover:bg-blue-100 text-center cursor-pointer"),E(n,"class","w-52"),E(t,"class","flex"),E(f,"class","py-2 px-4 hover:bg-blue-100 text-red-400 uppercase font-medium text-sm"),E(p,"class","text-primary-400 py-2 px-4 hover:bg-blue-100 uppercase font-medium text-sm"),E(u,"class","flex justify-between p-2")},m(i,s){g(i,t,s),$(t,n);for(let e=0;e<k.length;e+=1)k[e].m(n,null);$(n,r),$(n,o),$(t,a),N[l].m(t,null),g(i,c,s),g(i,u,s),$(u,f),$(u,d),$(u,p),m=!0,h||(v=[S(o,"click",e[4]),S(f,"click",e[5]),S(p,"click",e[9])],h=!0)},p(e,o){if(5&o){let t;for(_=e[0],t=0;t<_.length;t+=1){const i=tt(e,_,t);k[t]?k[t].p(i,o):(k[t]=nt(i),k[t].c(),k[t].m(n,r))}for(;t<k.length;t+=1)k[t].d(1);k.length=_.length}let i=l;l=C(e),l===i?N[l].p(e,o):(le(),ue(N[i],1,1,(()=>{N[i]=null})),se(),s=N[l],s?s.p(e,o):(s=N[l]=I[l](e),s.c()),ce(s,1),s.m(t,null))},i(e){m||(ce(s),m=!0)},o(e){ue(s),m=!1},d(e){e&&b(t),y(k,e),N[l].d(),e&&b(c),e&&b(u),h=!1,i(v)}}}function at(e){let t,n;return t=new Ye({props:{$$slots:{default:[it]},$$scope:{ctx:e}}}),t.$on("close",e[10]),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,[n]){const r={};2055&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function lt(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=z();let{items:a}=t,{type:l}=t,{class:s=""}=t,c=a.length>0?0:-1;return e.$$set=e=>{"items"in e&&n(0,a=e.items),"type"in e&&n(6,l=e.type),"class"in e&&n(1,s=e.class),"$$scope"in e&&n(11,o=e.$$scope)},[a,s,c,i,function(){a.push(new l),n(2,c=a.length-1),n(0,a)},function(){a.splice(c,1),c>=a.length&&n(2,c=-1),n(0,a)},l,r,e=>n(2,c=e),()=>i("close"),function(t){H(e,t)},o]}class st extends be{constructor(e){super(),ge(this,e,lt,at,l,{items:0,type:6,class:1})}}function ct(e){let t,n,r;return{c(){t=x("input"),E(t,"placeholder",e[3]),E(t,"class","caret-primary-500 pt-6 px-4 pb-2 w-full svelte-5vyxqs")},m(o,i){g(o,t,i),q(t,e[0]),n||(r=S(t,"input",e[7]),n=!0)},p(e,n){8&n&&E(t,"placeholder",e[3]),1&n&&t.value!==e[0]&&q(t,e[0])},d(e){e&&b(t),n=!1,r()}}}function ut(e){let t,n,r;return{c(){t=x("textarea"),E(t,"class","caret-primary-500 mt-8 px-4 pb-2 w-full svelte-5vyxqs")},m(o,i){g(o,t,i),q(t,e[0]),n||(r=S(t,"input",e[6]),n=!0)},p(e,n){1&n&&q(t,e[0])},d(e){e&&b(t),n=!1,r()}}}function ft(e){let t,n,r;return{c(){t=x("input"),E(t,"placeholder",e[3]),E(t,"type","number"),E(t,"class","caret-primary-500 pt-6 px-4 pb-2 w-full svelte-5vyxqs")},m(o,i){g(o,t,i),q(t,e[0]),n||(r=S(t,"input",e[5]),n=!0)},p(e,n){8&n&&E(t,"placeholder",e[3]),1&n&&N(t.value)!==e[0]&&q(t,e[0])},d(e){e&&b(t),n=!1,r()}}}function dt(e){let n,r,o,i,a,l,s;function c(e,t){return"number"===e[2]?ft:"textarea"===e[2]?ut:ct}let u=c(e),f=u(e);return{c(){n=x("label"),f.c(),r=w(),o=x("span"),i=_(e[1]),a=w(),l=x("div"),E(o,"class","top-4 left-4 color-gray-600 absolute block text-gray-600 pointer-events-none svelte-5vyxqs"),T(o,"hasValue",void 0!==e[0]&&""!==e[0]),E(l,"class","-bottom-0.5 h-0.5 absolute right-0 w-full bg-blue-500 svelte-5vyxqs"),E(n,"class",s=e[4]+" relative flex border-b border-gray-200")},m(e,t){g(e,n,t),f.m(n,null),$(n,r),$(n,o),$(o,i),$(n,a),$(n,l)},p(e,[t]){u===(u=c(e))&&f?f.p(e,t):(f.d(1),f=u(e),f&&(f.c(),f.m(n,r))),2&t&&C(i,e[1]),1&t&&T(o,"hasValue",void 0!==e[0]&&""!==e[0]),16&t&&s!==(s=e[4]+" relative flex border-b border-gray-200")&&E(n,"class",s)},i:t,o:t,d(e){e&&b(n),f.d()}}}function pt(e,t,n){let{value:r}=t,{label:o}=t,{type:i="text"}=t,{placeholder:a=""}=t,{class:l=""}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"label"in e&&n(1,o=e.label),"type"in e&&n(2,i=e.type),"placeholder"in e&&n(3,a=e.placeholder),"class"in e&&n(4,l=e.class)},[r,o,i,a,l,function(){r=N(this.value),n(0,r)},function(){r=this.value,n(0,r)},function(){r=this.value,n(0,r)}]}class mt extends be{constructor(e){super(),ge(this,e,pt,dt,l,{value:0,label:1,type:2,placeholder:3,class:4})}}function ht(e,t,n){const r=e.slice();return r[5]=t[n],r}function vt(e,t,n){const r=e.slice();return r[0]=t[n].value,r[8]=t[n].text,r}function $t(e){let t,n,r,o=e[5].text+"";return{c(){t=x("option"),n=_(o),t.__value=r=e[5].value,t.value=t.__value},m(e,r){g(e,t,r),$(t,n)},p(e,i){2&i&&o!==(o=e[5].text+"")&&C(n,o),2&i&&r!==(r=e[5].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&b(t)}}}function gt(e){let t,n,r=e[5].items,o=[];for(let t=0;t<r.length;t+=1)o[t]=bt(vt(e,r,t));return{c(){t=x("optgroup");for(let e=0;e<o.length;e+=1)o[e].c();E(t,"label",n=e[5].text)},m(e,n){g(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(2&i){let n;for(r=e[5].items,n=0;n<r.length;n+=1){const a=vt(e,r,n);o[n]?o[n].p(a,i):(o[n]=bt(a),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}2&i&&n!==(n=e[5].text)&&E(t,"label",n)},d(e){e&&b(t),y(o,e)}}}function bt(e){let t,n,r,o=e[8]+"";return{c(){t=x("option"),n=_(o),t.__value=r=e[0],t.value=t.__value},m(e,r){g(e,t,r),$(t,n)},p(e,i){2&i&&o!==(o=e[8]+"")&&C(n,o),2&i&&r!==(r=e[0])&&(t.__value=r,t.value=t.__value)},d(e){e&&b(t)}}}function yt(e){let t;function n(e,t){return null!=e[5].items?gt:$t}let r=n(e),o=r(e);return{c(){o.c(),t=k()},m(e,n){o.m(e,n),g(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&b(t)}}}function xt(e){let n,r,o,i,a,l,s,c,u,f,d,p,m=e[1],h=[];for(let t=0;t<m.length;t+=1)h[t]=yt(ht(e,m,t));return{c(){n=x("label"),r=x("div"),o=_(e[2]),i=w(),a=x("select");for(let e=0;e<h.length;e+=1)h[e].c();l=w(),s=x("div"),c=w(),u=x("span"),u.textContent="arrow_drop_down",E(r,"class","ml-2 text-gray-600 text-xs pointer-events-none"),E(a,"class","pr-8 pb-2 pl-1 w-full svelte-1g51mnc"),void 0===e[0]&&V((()=>e[4].call(a))),E(s,"class","h-0.5 absolute right-0 bottom w-full bg-blue-500 svelte-1g51mnc"),E(u,"class","material-icons bottom-2 right-1 absolute text-gray-400 svelte-1g51mnc"),E(n,"class",f=e[3]+" relative block pt-2 border-b border-gray-200")},m(t,f){g(t,n,f),$(n,r),$(r,o),$(n,i),$(n,a);for(let e=0;e<h.length;e+=1)h[e].m(a,null);D(a,e[0]),$(n,l),$(n,s),$(n,c),$(n,u),d||(p=S(a,"change",e[4]),d=!0)},p(e,[t]){if(4&t&&C(o,e[2]),2&t){let n;for(m=e[1],n=0;n<m.length;n+=1){const r=ht(e,m,n);h[n]?h[n].p(r,t):(h[n]=yt(r),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=m.length}3&t&&D(a,e[0]),8&t&&f!==(f=e[3]+" relative block pt-2 border-b border-gray-200")&&E(n,"class",f)},i:t,o:t,d(e){e&&b(n),y(h,e),d=!1,p()}}}function _t(e,t,n){let{items:r}=t,{label:o}=t,{value:i}=t,{class:a=""}=t;return e.$$set=e=>{"items"in e&&n(1,r=e.items),"label"in e&&n(2,o=e.label),"value"in e&&n(0,i=e.value),"class"in e&&n(3,a=e.class)},[i,r,o,a,function(){i=A(this),n(0,i),n(1,r)}]}class wt extends be{constructor(e){super(),ge(this,e,_t,xt,l,{items:1,label:2,value:0,class:3})}}function kt(e){let n,r,o,i,a,l,s,c,u,f,d=e[0]?"Yes":"No";return{c(){n=x("label"),r=x("input"),o=w(),i=x("div"),a=_(e[1]),l=w(),s=x("div"),c=_(d),E(r,"class","hidden"),E(r,"type","checkbox"),r.disabled=e[2],E(i,"class","text-gray-600 text-xs pointer-events-none"),E(n,"class","relative block p-2 border-b border-gray-200"),T(n,"opacity-30",e[2])},m(t,d){g(t,n,d),$(n,r),r.checked=e[0],$(n,o),$(n,i),$(i,a),$(n,l),$(n,s),$(s,c),u||(f=S(r,"change",e[3]),u=!0)},p(e,[t]){4&t&&(r.disabled=e[2]),1&t&&(r.checked=e[0]),2&t&&C(a,e[1]),1&t&&d!==(d=e[0]?"Yes":"No")&&C(c,d),4&t&&T(n,"opacity-30",e[2])},i:t,o:t,d(e){e&&b(n),u=!1,f()}}}function St(e,t,n){let{value:r}=t,{label:o}=t,{disabled:i=!1}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"label"in e&&n(1,o=e.label),"disabled"in e&&n(2,i=e.disabled)},[r,o,i,function(){r=this.checked,n(0,r)}]}class It extends be{constructor(e){super(),ge(this,e,St,kt,l,{value:0,label:1,disabled:2})}}function Et(e,t,n){const r=e.slice();return r[7]=t[n],r}function Nt(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ct(e){let t,n,r,o,i,a;const l=e[6].default,c=s(l,e,e[5],null);let d=void 0!==e[1]&&Dt(e);return{c(){t=x("div"),c&&c.c(),n=w(),d&&d.c(),E(t,"class",r=e[0]+" block p-2"),E(t,"style",e[3])},m(e,r){g(e,t,r),c&&c.m(t,null),$(t,n),d&&d.m(t,null),o=!0,i||(a=f(Ce.call(null,t)),i=!0)},p(e,n){c&&c.p&&(!o||32&n)&&u(c,l,e,e[5],n,null,null),void 0!==e[1]?d?d.p(e,n):(d=Dt(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!o||1&n&&r!==(r=e[0]+" block p-2"))&&E(t,"class",r),(!o||8&n)&&E(t,"style",e[3])},i(e){o||(ce(c,e),o=!0)},o(e){ue(c,e),o=!1},d(e){e&&b(t),c&&c.d(e),d&&d.d(),i=!1,a()}}}function qt(e){let t,n,r,o,i,a;const l=e[6].default,c=s(l,e,e[5],null);let d=void 0!==e[1]&&Tt(e);return{c(){t=x("label"),c&&c.c(),n=w(),d&&d.c(),E(t,"class",r=e[0]+" p-2"),E(t,"style",e[3])},m(e,r){g(e,t,r),c&&c.m(t,null),$(t,n),d&&d.m(t,null),o=!0,i||(a=f(Ce.call(null,t)),i=!0)},p(e,n){c&&c.p&&(!o||32&n)&&u(c,l,e,e[5],n,null,null),void 0!==e[1]?d?d.p(e,n):(d=Tt(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!o||1&n&&r!==(r=e[0]+" p-2"))&&E(t,"class",r),(!o||8&n)&&E(t,"style",e[3])},i(e){o||(ce(c,e),o=!0)},o(e){ue(c,e),o=!1},d(e){e&&b(t),c&&c.d(e),d&&d.d(),i=!1,a()}}}function Dt(e){let t,n=e[1].split(" "),r=[];for(let t=0;t<n.length;t+=1)r[t]=At(Et(e,n,t));return{c(){t=x("div");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","my-2 text-center uppercase text-xs")},m(e,n){g(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,o){if(2&o){let i;for(n=e[1].split(" "),i=0;i<n.length;i+=1){const a=Et(e,n,i);r[i]?r[i].p(a,o):(r[i]=At(a),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&b(t),y(r,e)}}}function At(e){let t,n,r,o=e[7][0]+"",i=e[7].slice(1)+"";return{c(){t=x("span"),n=_(o),r=_(i),E(t,"class","ml-1 text-sm")},m(e,o){g(e,t,o),$(t,n),g(e,r,o)},p(e,t){2&t&&o!==(o=e[7][0]+"")&&C(n,o),2&t&&i!==(i=e[7].slice(1)+"")&&C(r,i)},d(e){e&&b(t),e&&b(r)}}}function Tt(e){let t,n=e[1].split(" "),r=[];for(let t=0;t<n.length;t+=1)r[t]=Rt(Nt(e,n,t));return{c(){t=x("div");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","my-2 text-center uppercase text-xs")},m(e,n){g(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,o){if(2&o){let i;for(n=e[1].split(" "),i=0;i<n.length;i+=1){const a=Nt(e,n,i);r[i]?r[i].p(a,o):(r[i]=Rt(a),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&b(t),y(r,e)}}}function Rt(e){let t,n,r,o=e[7][0]+"",i=e[7].slice(1)+"";return{c(){t=x("span"),n=_(o),r=_(i),E(t,"class","ml-1 text-sm")},m(e,o){g(e,t,o),$(t,n),g(e,r,o)},p(e,t){2&t&&o!==(o=e[7][0]+"")&&C(n,o),2&t&&i!==(i=e[7].slice(1)+"")&&C(r,i)},d(e){e&&b(t),e&&b(r)}}}function jt(e){let t,n,r,o;const i=[qt,Ct],a=[];function l(e,t){return e[2]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=k()},m(e,n){a[t].m(e,n),g(e,r,n),o=!0},p(e,[o]){let s=t;t=l(e),t===s?a[t].p(e,o):(le(),ue(a[s],1,1,(()=>{a[s]=null})),se(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),ce(n,1),n.m(r.parentNode,r))},i(e){o||(ce(n),o=!0)},o(e){ue(n),o=!1},d(e){a[t].d(e),e&&b(r)}}}function Ot(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{class:a=""}=t,{area:l}=t,{title:s}=t,{label:c=!1}=t;return e.$$set=e=>{"class"in e&&n(0,a=e.class),"area"in e&&n(4,l=e.area),"title"in e&&n(1,s=e.title),"label"in e&&n(2,c=e.label),"$$scope"in e&&n(5,i=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=void 0!==l?"grid-area:"+l:void 0)},[a,s,c,r,l,i,o]}class Pt extends be{constructor(e){super(),ge(this,e,Ot,jt,l,{class:0,area:4,title:1,label:2})}}function Mt(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function Bt(e){let t,n,r;function o(t){e[14](t)}let i={type:Me,$$slots:{default:[Lt,({index:e})=>({19:e}),({index:e})=>e?524288:0]},$$scope:{ctx:e}};return void 0!==e[0].attacks&&(i.items=e[0].attacks),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[3]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};1572865&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.items=e[0].attacks,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function Lt(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v,y,k,S,I,N,C,q,D,A,T,R,j,O,P,M,B,L,F;function W(t){e[5](t,e[19])}let z={label:"Name"};function H(t){e[6](t,e[19])}void 0!==e[0].attacks[e[19]].name&&(z.value=e[0].attacks[e[19]].name),t=new mt({props:z}),X.push((()=>pe(t,"value",W)));let U={label:"Ability",items:e[4]};function J(t){e[7](t,e[19])}void 0!==e[0].attacks[e[19]].attackAbility&&(U.value=e[0].attacks[e[19]].attackAbility),l=new wt({props:U}),X.push((()=>pe(l,"value",H)));let K={class:"w-20",type:"number",label:"Modifier"};function G(t){e[8](t,e[19])}void 0!==e[0].attacks[e[19]].attackModifier&&(K.value=e[0].attacks[e[19]].attackModifier),u=new mt({props:K}),X.push((()=>pe(u,"value",J)));let Q={label:"Proficient"};function V(t){e[9](t,e[19])}void 0!==e[0].attacks[e[19]].proficient&&(Q.value=e[0].attacks[e[19]].proficient),p=new It({props:Q}),X.push((()=>pe(p,"value",G)));let Z={class:"w-20",label:"Dice",placeholder:"2d6"};function ee(t){e[10](t,e[19])}void 0!==e[0].attacks[e[19]].damageRoll&&(Z.value=e[0].attacks[e[19]].damageRoll),S=new mt({props:Z}),X.push((()=>pe(S,"value",V)));let te={label:"Ability",items:e[4]};function ne(t){e[11](t,e[19])}void 0!==e[0].attacks[e[19]].damageAbility&&(te.value=e[0].attacks[e[19]].damageAbility),C=new wt({props:te}),X.push((()=>pe(C,"value",ee)));let re={class:"w-20",type:"number",label:"Modifier"};function oe(t){e[12](t,e[19])}void 0!==e[0].attacks[e[19]].damageModifier&&(re.value=e[0].attacks[e[19]].damageModifier),A=new mt({props:re}),X.push((()=>pe(A,"value",ne)));let ie={class:"flex-1 w-0",label:"Type",placeholder:"Slashing"};function ae(t){e[13](t,e[19])}void 0!==e[0].attacks[e[19]].damageType&&(ie.value=e[0].attacks[e[19]].damageType),O=new mt({props:ie}),X.push((()=>pe(O,"value",oe)));let le={class:"flex-1 w-0",label:"Range"};return void 0!==e[0].attacks[e[19]].range&&(le.value=e[0].attacks[e[19]].range),B=new mt({props:le}),X.push((()=>pe(B,"value",ae))),{c(){me(t.$$.fragment),r=w(),o=x("div"),o.textContent="Attack Roll",i=w(),a=x("div"),me(l.$$.fragment),c=_("\n      +\n      "),me(u.$$.fragment),d=_("\n      +\n      "),me(p.$$.fragment),h=w(),v=x("div"),v.textContent="Damage",y=w(),k=x("div"),me(S.$$.fragment),N=_("\n      +\n      "),me(C.$$.fragment),D=_("\n      +\n      "),me(A.$$.fragment),R=w(),j=x("div"),me(O.$$.fragment),M=w(),me(B.$$.fragment),E(o,"class","mt-6"),E(a,"class","gap-2 flex items-center mb-2"),E(v,"class","mt-6"),E(k,"class","gap-2 flex items-center mb-2"),E(j,"class","gap-2 flex")},m(e,n){he(t,e,n),g(e,r,n),g(e,o,n),g(e,i,n),g(e,a,n),he(l,a,null),$(a,c),he(u,a,null),$(a,d),he(p,a,null),g(e,h,n),g(e,v,n),g(e,y,n),g(e,k,n),he(S,k,null),$(k,N),he(C,k,null),$(k,D),he(A,k,null),g(e,R,n),g(e,j,n),he(O,j,null),$(j,M),he(B,j,null),F=!0},p(r,o){e=r;const i={};!n&&524289&o&&(n=!0,i.value=e[0].attacks[e[19]].name,Y((()=>n=!1))),t.$set(i);const a={};!s&&524289&o&&(s=!0,a.value=e[0].attacks[e[19]].attackAbility,Y((()=>s=!1))),l.$set(a);const c={};!f&&524289&o&&(f=!0,c.value=e[0].attacks[e[19]].attackModifier,Y((()=>f=!1))),u.$set(c);const d={};!m&&524289&o&&(m=!0,d.value=e[0].attacks[e[19]].proficient,Y((()=>m=!1))),p.$set(d);const h={};!I&&524289&o&&(I=!0,h.value=e[0].attacks[e[19]].damageRoll,Y((()=>I=!1))),S.$set(h);const v={};!q&&524289&o&&(q=!0,v.value=e[0].attacks[e[19]].damageAbility,Y((()=>q=!1))),C.$set(v);const $={};!T&&524289&o&&(T=!0,$.value=e[0].attacks[e[19]].damageModifier,Y((()=>T=!1))),A.$set($);const g={};!P&&524289&o&&(P=!0,g.value=e[0].attacks[e[19]].damageType,Y((()=>P=!1))),O.$set(g);const b={};!L&&524289&o&&(L=!0,b.value=e[0].attacks[e[19]].range,Y((()=>L=!1))),B.$set(b)},i(e){F||(ce(t.$$.fragment,e),ce(l.$$.fragment,e),ce(u.$$.fragment,e),ce(p.$$.fragment,e),ce(S.$$.fragment,e),ce(C.$$.fragment,e),ce(A.$$.fragment,e),ce(O.$$.fragment,e),ce(B.$$.fragment,e),F=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(u.$$.fragment,e),ue(p.$$.fragment,e),ue(S.$$.fragment,e),ue(C.$$.fragment,e),ue(A.$$.fragment,e),ue(O.$$.fragment,e),ue(B.$$.fragment,e),F=!1},d(e){ve(t,e),e&&b(r),e&&b(o),e&&b(i),e&&b(a),ve(l),ve(u),ve(p),e&&b(h),e&&b(v),e&&b(y),e&&b(k),ve(S),ve(C),ve(A),e&&b(R),e&&b(j),ve(O),ve(B)}}}function Ft(e){let t,n,r,o,i,a,l,s,c,u,f,d=e[16].name+"",p=e[1].attacks[e[18]].attackModifier+"",m=e[1].attacks[e[18]].fullDamageRoll+"",h=e[16].damageType+"";return{c(){t=x("span"),n=_(d),r=w(),o=x("span"),i=_(p),a=w(),l=x("span"),s=_(m),c=w(),u=_(h),f=w()},m(e,d){g(e,t,d),$(t,n),g(e,r,d),g(e,o,d),$(o,i),g(e,a,d),g(e,l,d),$(l,s),$(l,c),$(l,u),$(l,f)},p(e,t){1&t&&d!==(d=e[16].name+"")&&C(n,d),2&t&&p!==(p=e[1].attacks[e[18]].attackModifier+"")&&C(i,p),2&t&&m!==(m=e[1].attacks[e[18]].fullDamageRoll+"")&&C(s,m),1&t&&h!==(h=e[16].damageType+"")&&C(u,h)},d(e){e&&b(t),e&&b(r),e&&b(o),e&&b(a),e&&b(l)}}}function Wt(e){let t,n,r,o,i,a,l,s,c,u,f=e[0].attacks,d=[];for(let t=0;t<f.length;t+=1)d[t]=Ft(Mt(e,f,t));return{c(){t=x("span"),t.textContent="edit",n=w(),r=x("div"),o=x("span"),o.textContent="Name",i=x("span"),i.textContent="Atk",a=x("span"),a.textContent="Damage",l=x("span"),s=w();for(let e=0;e<d.length;e+=1)d[e].c();E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer"),E(r,"class","grid gap-2 svelte-13rn7fb"),E(r,"title","Attacks")},m(f,p){g(f,t,p),g(f,n,p),g(f,r,p),$(r,o),$(r,i),$(r,a),$(r,l),$(r,s);for(let e=0;e<d.length;e+=1)d[e].m(r,null);c||(u=S(t,"click",e[15]),c=!0)},p(e,t){if(3&t){let n;for(f=e[0].attacks,n=0;n<f.length;n+=1){const o=Mt(e,f,n);d[n]?d[n].p(o,t):(d[n]=Ft(o),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(e){e&&b(t),e&&b(n),e&&b(r),y(d,e),c=!1,u()}}}function zt(e){let t,n,r,o=e[2]&&Bt(e);return n=new Pt({props:{class:"relative",area:"atk",$$slots:{default:[Wt]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[2]?o?(o.p(e,r),4&r&&ce(o,1)):(o=Bt(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};1048583&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function Ht(e,t,n){let{data:r}=t,{derived:o}=t,i=!1;const a=Ee(Te);return e.$$set=e=>{"data"in e&&n(0,r=e.data),"derived"in e&&n(1,o=e.derived)},[r,o,i,function(){n(0,r),n(2,i=!1)},a,function(t,o){e.$$.not_equal(r.attacks[o].name,t)&&(r.attacks[o].name=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].attackAbility,t)&&(r.attacks[o].attackAbility=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].attackModifier,t)&&(r.attacks[o].attackModifier=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].proficient,t)&&(r.attacks[o].proficient=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].damageRoll,t)&&(r.attacks[o].damageRoll=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].damageAbility,t)&&(r.attacks[o].damageAbility=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].damageModifier,t)&&(r.attacks[o].damageModifier=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].damageType,t)&&(r.attacks[o].damageType=t,n(0,r))},function(t,o){e.$$.not_equal(r.attacks[o].range,t)&&(r.attacks[o].range=t,n(0,r))},function(t){e.$$.not_equal(r.attacks,t)&&(r.attacks=t,n(0,r))},()=>n(2,i=!0)]}class Ut extends be{constructor(e){super(),ge(this,e,Ht,zt,l,{data:0,derived:1})}}function Xt(e,t,n){const r=e.slice();return r[5]=t[n],r[6]=t,r[7]=n,r}function Jt(e){let t,n,r,o,a,l,s,c,u,f;function d(){e[2].call(r,e[6],e[7])}function p(){e[3].call(a,e[6],e[7])}function m(){e[4].call(s,e[6],e[7])}return{c(){t=x("div"),n=_("Total\n        "),r=x("input"),o=w(),a=x("input"),l=w(),s=x("input"),c=w(),E(r,"class","overflow-hidden flex-1 ml-2 border-b border-gray-200 text-center"),E(r,"type","number"),E(t,"class","flex"),E(a,"class","w-full text-center text-3xl"),E(a,"type","number"),E(s,"class","w-full text-center")},m(i,h){g(i,t,h),$(t,n),$(t,r),q(r,e[5].max),g(i,o,h),g(i,a,h),q(a,e[5].current),g(i,l,h),g(i,s,h),q(s,e[5].name),g(i,c,h),u||(f=[S(r,"input",d),S(a,"input",p),S(s,"input",m)],u=!0)},p(t,n){e=t,1&n&&N(r.value)!==e[5].max&&q(r,e[5].max),1&n&&N(a.value)!==e[5].current&&q(a,e[5].current),1&n&&s.value!==e[5].name&&q(s,e[5].name)},d(e){e&&b(t),e&&b(o),e&&b(a),e&&b(l),e&&b(s),e&&b(c),u=!1,i(f)}}}function Kt(e){let t,n;return t=new Pt({props:{$$slots:{default:[Jt]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Gt(e){let t,n,r,o,i,a,l=e[0].trackers,s=[];for(let t=0;t<l.length;t+=1)s[t]=Kt(Xt(e,l,t));const c=e=>ue(s[e],1,1,(()=>{s[e]=null}));return{c(){t=x("div");for(let e=0;e<s.length;e+=1)s[e].c();n=w(),r=x("button"),r.textContent="+",E(t,"class","grid grid-cols-2 gap-3 mb-3"),E(r,"class","mb-3 w-full")},m(l,c){g(l,t,c);for(let e=0;e<s.length;e+=1)s[e].m(t,null);g(l,n,c),g(l,r,c),o=!0,i||(a=S(r,"click",e[1]),i=!0)},p(e,[n]){if(1&n){let r;for(l=e[0].trackers,r=0;r<l.length;r+=1){const o=Xt(e,l,r);s[r]?(s[r].p(o,n),ce(s[r],1)):(s[r]=Kt(o),s[r].c(),ce(s[r],1),s[r].m(t,null))}for(le(),r=l.length;r<s.length;r+=1)c(r);se()}},i(e){if(!o){for(let e=0;e<l.length;e+=1)ce(s[e]);o=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ue(s[e]);o=!1},d(e){e&&b(t),y(s,e),e&&b(n),e&&b(r),i=!1,a()}}}function Qt(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,function(){r.trackers.push(new ze("Other Resource")),n(0,r)},function(e,t){e[t].max=N(this.value),n(0,r)},function(e,t){e[t].current=N(this.value),n(0,r)},function(e,t){e[t].name=this.value,n(0,r)}]}class Vt extends be{constructor(e){super(),ge(this,e,Qt,Gt,l,{data:0})}}function Yt(e,t,n){const r=e.slice();return r[8]=t[n],r}function Zt(e){let t,n,r;function o(t){e[6](t)}let i={type:We,$$slots:{default:[en,({index:e})=>({11:e}),({index:e})=>e?2048:0]},$$scope:{ctx:e}};return void 0!==e[0].features&&(i.items=e[0].features),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[2]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};6145&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.items=e[0].features,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function en(e){let t,n,r,o,i,a,l,s,c;function u(t){e[3](t,e[11])}let f={label:"Name"};function d(t){e[4](t,e[11])}void 0!==e[0].features[e[11]].name&&(f.value=e[0].features[e[11]].name),t=new mt({props:f}),X.push((()=>pe(t,"value",u)));let p={label:"Source"};function m(t){e[5](t,e[11])}void 0!==e[0].features[e[11]].source&&(p.value=e[0].features[e[11]].source),o=new mt({props:p}),X.push((()=>pe(o,"value",d)));let h={label:"Description",type:"textarea",class:"h-72 w-96"};return void 0!==e[0].features[e[11]].description&&(h.value=e[0].features[e[11]].description),l=new mt({props:h}),X.push((()=>pe(l,"value",m))),{c(){me(t.$$.fragment),r=w(),me(o.$$.fragment),a=w(),me(l.$$.fragment)},m(e,n){he(t,e,n),g(e,r,n),he(o,e,n),g(e,a,n),he(l,e,n),c=!0},p(r,a){e=r;const c={};!n&&2049&a&&(n=!0,c.value=e[0].features[e[11]].name,Y((()=>n=!1))),t.$set(c);const u={};!i&&2049&a&&(i=!0,u.value=e[0].features[e[11]].source,Y((()=>i=!1))),o.$set(u);const f={};!s&&2049&a&&(s=!0,f.value=e[0].features[e[11]].description,Y((()=>s=!1))),l.$set(f)},i(e){c||(ce(t.$$.fragment,e),ce(o.$$.fragment,e),ce(l.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(o.$$.fragment,e),ue(l.$$.fragment,e),c=!1},d(e){ve(t,e),e&&b(r),ve(o,e),e&&b(a),ve(l,e)}}}function tn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p=e[8].name+"",m=e[8].source+"",h=e[8].description+"";return{c(){t=x("label"),n=x("div"),r=_(p),o=w(),i=x("div"),a=_(m),l=w(),s=x("input"),c=w(),u=x("p"),f=_(h),d=w(),E(n,"class","text-lg"),E(i,"class","text-sm"),E(s,"type","checkbox"),E(s,"class","svelte-16qdfaj"),E(u,"class","whitespace-pre-wrap svelte-16qdfaj"),E(t,"class","mb-4")},m(e,p){g(e,t,p),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(t,l),$(t,s),$(t,c),$(t,u),$(u,f),$(t,d)},p(e,t){1&t&&p!==(p=e[8].name+"")&&C(r,p),1&t&&m!==(m=e[8].source+"")&&C(a,m),1&t&&h!==(h=e[8].description+"")&&C(f,h)},d(e){e&&b(t)}}}function nn(e){let t,n,r,o,i,a=e[0].features,l=[];for(let t=0;t<a.length;t+=1)l[t]=tn(Yt(e,a,t));return{c(){t=x("span"),t.textContent="edit",n=w();for(let e=0;e<l.length;e+=1)l[e].c();r=k(),E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer")},m(a,s){g(a,t,s),g(a,n,s);for(let e=0;e<l.length;e+=1)l[e].m(a,s);g(a,r,s),o||(i=S(t,"click",e[7]),o=!0)},p(e,t){if(1&t){let n;for(a=e[0].features,n=0;n<a.length;n+=1){const o=Yt(e,a,n);l[n]?l[n].p(o,t):(l[n]=tn(o),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},d(e){e&&b(t),e&&b(n),y(l,e),e&&b(r),o=!1,i()}}}function rn(e){let t,n,r,o=e[1]&&Zt(e);return n=new Pt({props:{class:"relative p-4",title:"Features & Traits",$$slots:{default:[nn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[1]?o?(o.p(e,r),2&r&&ce(o,1)):(o=Zt(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};4099&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function on(e,t,n){let{data:r}=t,o=!1;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,o,function(){n(0,r),n(1,o=!1)},function(t,o){e.$$.not_equal(r.features[o].name,t)&&(r.features[o].name=t,n(0,r))},function(t,o){e.$$.not_equal(r.features[o].source,t)&&(r.features[o].source=t,n(0,r))},function(t,o){e.$$.not_equal(r.features[o].description,t)&&(r.features[o].description=t,n(0,r))},function(t){e.$$.not_equal(r.features,t)&&(r.features=t,n(0,r))},()=>n(1,o=!0)]}class an extends be{constructor(e){super(),ge(this,e,on,rn,l,{data:0})}}function ln(e,t,n){const r=e.slice();return r[26]=t[n],r}function sn(e,t,n){const r=e.slice();return r[26]=t[n],r}function cn(e){let t,n,r;function o(t){e[17](t)}let i={type:Be,$$slots:{default:[un,({index:e})=>({31:e}),({index:e})=>[0,e?1:0]]},$$scope:{ctx:e}};return void 0!==e[0].equipment&&(i.items=e[0].equipment),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[8]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};1&r[0]|3&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,o.items=e[0].equipment,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function un(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v,y,_,k;function S(t){e[11](t,e[31])}let I={label:"name"};function N(t){e[12](t,e[31])}void 0!==e[0].equipment[e[31]].name&&(I.value=e[0].equipment[e[31]].name),t=new mt({props:I}),X.push((()=>pe(t,"value",S)));let C={class:"w-16",label:"Count",type:"number"};function q(t){e[13](t,e[31])}void 0!==e[0].equipment[e[31]].count&&(C.value=e[0].equipment[e[31]].count),i=new mt({props:C}),X.push((()=>pe(i,"value",N)));let D={class:"w-16",label:"Weight",type:"number"};function A(t){e[14](t,e[31])}void 0!==e[0].equipment[e[31]].weight&&(D.value=e[0].equipment[e[31]].weight),s=new mt({props:D}),X.push((()=>pe(s,"value",q)));let T={label:"Type",items:e[9]};function R(t){e[15](t,e[31])}void 0!==e[0].equipment[e[31]].type&&(T.value=e[0].equipment[e[31]].type),f=new wt({props:T}),X.push((()=>pe(f,"value",A)));let j={label:"Equiped",disabled:e[0].equipment[e[31]].type!==je.Equipment};function O(t){e[16](t,e[31])}void 0!==e[0].equipment[e[31]].isEquipped&&(j.value=e[0].equipment[e[31]].isEquipped),m=new It({props:j}),X.push((()=>pe(m,"value",R)));let P={class:"h-72 w-96",label:"description",type:"textarea"};return void 0!==e[0].equipment[e[31]].description&&(P.value=e[0].equipment[e[31]].description),y=new mt({props:P}),X.push((()=>pe(y,"value",O))),{c(){me(t.$$.fragment),r=w(),o=x("div"),me(i.$$.fragment),l=w(),me(s.$$.fragment),u=w(),me(f.$$.fragment),p=w(),me(m.$$.fragment),v=w(),me(y.$$.fragment),E(o,"class","gap-2 flex my-4")},m(e,n){he(t,e,n),g(e,r,n),g(e,o,n),he(i,o,null),$(o,l),he(s,o,null),$(o,u),he(f,o,null),$(o,p),he(m,o,null),g(e,v,n),he(y,e,n),k=!0},p(r,o){e=r;const l={};!n&&1&o[0]|1&o[1]&&(n=!0,l.value=e[0].equipment[e[31]].name,Y((()=>n=!1))),t.$set(l);const u={};!a&&1&o[0]|1&o[1]&&(a=!0,u.value=e[0].equipment[e[31]].count,Y((()=>a=!1))),i.$set(u);const p={};!c&&1&o[0]|1&o[1]&&(c=!0,p.value=e[0].equipment[e[31]].weight,Y((()=>c=!1))),s.$set(p);const v={};!d&&1&o[0]|1&o[1]&&(d=!0,v.value=e[0].equipment[e[31]].type,Y((()=>d=!1))),f.$set(v);const $={};1&o[0]|1&o[1]&&($.disabled=e[0].equipment[e[31]].type!==je.Equipment),!h&&1&o[0]|1&o[1]&&(h=!0,$.value=e[0].equipment[e[31]].isEquipped,Y((()=>h=!1))),m.$set($);const g={};!_&&1&o[0]|1&o[1]&&(_=!0,g.value=e[0].equipment[e[31]].description,Y((()=>_=!1))),y.$set(g)},i(e){k||(ce(t.$$.fragment,e),ce(i.$$.fragment,e),ce(s.$$.fragment,e),ce(f.$$.fragment,e),ce(m.$$.fragment,e),ce(y.$$.fragment,e),k=!0)},o(e){ue(t.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),ue(f.$$.fragment,e),ue(m.$$.fragment,e),ue(y.$$.fragment,e),k=!1},d(e){ve(t,e),e&&b(r),e&&b(o),ve(i),ve(s),ve(f),ve(m),e&&b(v),ve(y,e)}}}function fn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h=e[26].count+"",v=e[26].name+"",y=e[26].weight+"",k=e[26].description+"";return{c(){t=x("label"),n=x("span"),r=_(h),o=w(),i=x("span"),a=_(v),l=w(),s=x("span"),c=_(y),u=w(),f=x("input"),d=w(),p=x("span"),m=_(k),E(n,"class","svelte-9uyh10"),E(i,"class","svelte-9uyh10"),E(s,"class","svelte-9uyh10"),E(f,"class","hidden svelte-9uyh10"),E(f,"type","checkbox"),E(p,"class","col-span-3 svelte-9uyh10"),E(t,"class","contents svelte-9uyh10"),T(t,"unequiped",!e[26].isEquipped)},m(e,h){g(e,t,h),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(t,l),$(t,s),$(s,c),$(t,u),$(t,f),$(t,d),$(t,p),$(p,m)},p(e,n){1&n[0]&&h!==(h=e[26].count+"")&&C(r,h),1&n[0]&&v!==(v=e[26].name+"")&&C(a,v),1&n[0]&&y!==(y=e[26].weight+"")&&C(c,y),1&n[0]&&k!==(k=e[26].description+"")&&C(m,k),1&n[0]&&T(t,"unequiped",!e[26].isEquipped)},d(e){e&&b(t)}}}function dn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v=e[26].count+"",y=e[26].name+"",k=e[26].weight+"",S=e[26].description+"";return{c(){t=x("label"),n=x("span"),r=_(v),o=w(),i=x("span"),a=_(y),l=w(),s=x("span"),c=_(k),u=w(),f=x("input"),d=w(),p=x("span"),m=_(S),h=w(),E(f,"class","hidden svelte-9uyh10"),E(f,"type","checkbox"),E(p,"class","col-span-3 svelte-9uyh10"),E(t,"class","contents")},m(e,v){g(e,t,v),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(t,l),$(t,s),$(s,c),$(t,u),$(t,f),$(t,d),$(t,p),$(p,m),$(t,h)},p(e,t){1&t[0]&&v!==(v=e[26].count+"")&&C(r,v),1&t[0]&&y!==(y=e[26].name+"")&&C(a,y),1&t[0]&&k!==(k=e[26].weight+"")&&C(c,k),1&t[0]&&S!==(S=e[26].description+"")&&C(m,S)},d(e){e&&b(t)}}}function pn(e){let t,n,r,o,a,l,s,c,u,f,d,p,m,h,v,k,I,D,A,T,R,j,O,P,M,B,L,F,W,z,H,U,X,J,K,G,Q,V,Y=e[1].totalWeight+"",Z=e[0].equipment.filter(e[24]),ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=fn(sn(e,Z,t));let te=e[0].equipment.filter(e[25]),ne=[];for(let t=0;t<te.length;t+=1)ne[t]=dn(ln(e,te,t));return{c(){t=x("span"),t.textContent="edit",n=w(),r=x("div"),o=x("label"),a=_("CP "),l=x("input"),s=w(),c=x("label"),u=_("SP "),f=x("input"),d=w(),p=x("label"),m=_("EP "),h=x("input"),v=w(),k=x("label"),I=_("GP "),D=x("input"),A=w(),T=x("label"),R=_("PP "),j=x("input"),O=w(),P=x("div"),M=x("span"),M.textContent="Count",B=x("span"),B.textContent="Name",L=x("span"),L.textContent="Weight",F=x("span"),W=w();for(let e=0;e<ee.length;e+=1)ee[e].c();z=w();for(let e=0;e<ne.length;e+=1)ne[e].c();H=w(),U=x("div"),X=x("div"),X.textContent="Total Weight",J=w(),K=x("div"),G=_(Y),E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer"),E(l,"class","w-full"),E(l,"type","number"),E(f,"class","w-full"),E(f,"type","number"),E(h,"class","w-full"),E(h,"type","number"),E(D,"class","w-full"),E(D,"type","number"),E(j,"class","w-full"),E(j,"type","number"),E(r,"class","grid grid-cols-5"),E(P,"class","grid gap-2 items svelte-9uyh10"),E(K,"class","text-2xl"),E(U,"class","text-center")},m(i,b){g(i,t,b),g(i,n,b),g(i,r,b),$(r,o),$(o,a),$(o,l),q(l,e[2]),$(r,s),$(r,c),$(c,u),$(c,f),q(f,e[3]),$(r,d),$(r,p),$(p,m),$(p,h),q(h,e[4]),$(r,v),$(r,k),$(k,I),$(k,D),q(D,e[5]),$(r,A),$(r,T),$(T,R),$(T,j),q(j,e[6]),g(i,O,b),g(i,P,b),$(P,M),$(P,B),$(P,L),$(P,F),$(P,W);for(let e=0;e<ee.length;e+=1)ee[e].m(P,null);$(P,z);for(let e=0;e<ne.length;e+=1)ne[e].m(P,null);g(i,H,b),g(i,U,b),$(U,X),$(U,J),$(U,K),$(K,G),Q||(V=[S(t,"click",e[18]),S(l,"input",e[19]),S(l,"blur",e[10]),S(f,"input",e[20]),S(f,"blur",e[10]),S(h,"input",e[21]),S(h,"blur",e[10]),S(D,"input",e[22]),S(D,"blur",e[10]),S(j,"input",e[23]),S(j,"blur",e[10])],Q=!0)},p(e,t){if(4&t[0]&&N(l.value)!==e[2]&&q(l,e[2]),8&t[0]&&N(f.value)!==e[3]&&q(f,e[3]),16&t[0]&&N(h.value)!==e[4]&&q(h,e[4]),32&t[0]&&N(D.value)!==e[5]&&q(D,e[5]),64&t[0]&&N(j.value)!==e[6]&&q(j,e[6]),1&t[0]){let n;for(Z=e[0].equipment.filter(e[24]),n=0;n<Z.length;n+=1){const r=sn(e,Z,n);ee[n]?ee[n].p(r,t):(ee[n]=fn(r),ee[n].c(),ee[n].m(P,z))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Z.length}if(1&t[0]){let n;for(te=e[0].equipment.filter(e[25]),n=0;n<te.length;n+=1){const r=ln(e,te,n);ne[n]?ne[n].p(r,t):(ne[n]=dn(r),ne[n].c(),ne[n].m(P,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}2&t[0]&&Y!==(Y=e[1].totalWeight+"")&&C(G,Y)},d(e){e&&b(t),e&&b(n),e&&b(r),e&&b(O),e&&b(P),y(ee,e),y(ne,e),e&&b(H),e&&b(U),Q=!1,i(V)}}}function mn(e){let t,n,r,o=e[7]&&cn(e);return n=new Pt({props:{class:"relative",area:"inv",title:"Equipment",$$slots:{default:[pn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,r){e[7]?o?(o.p(e,r),128&r[0]&&ce(o,1)):(o=cn(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};255&r[0]|2&r[1]&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function hn(e,t,n){let{data:r}=t,{derived:o}=t,i=!1;const a=Ee(je);let{copper:l,silver:s,electrum:c,gold:u,platinum:f}=o.coin;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"derived"in e&&n(1,o=e.derived)},e.$$.update=()=>{124&e.$$.dirty[0]&&n(0,r.coin=l+10*s+50*c+100*u+1e3*f,r)},[r,o,l,s,c,u,f,i,function(){n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f),n(7,i=!1)},a,function(){n(2,l=o.coin.copper),n(3,s=o.coin.silver),n(4,c=o.coin.electrum),n(5,u=o.coin.gold),n(6,f=o.coin.platinum)},function(t,o){e.$$.not_equal(r.equipment[o].name,t)&&(r.equipment[o].name=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t,o){e.$$.not_equal(r.equipment[o].count,t)&&(r.equipment[o].count=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t,o){e.$$.not_equal(r.equipment[o].weight,t)&&(r.equipment[o].weight=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t,o){e.$$.not_equal(r.equipment[o].type,t)&&(r.equipment[o].type=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t,o){e.$$.not_equal(r.equipment[o].isEquipped,t)&&(r.equipment[o].isEquipped=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t,o){e.$$.not_equal(r.equipment[o].description,t)&&(r.equipment[o].description=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},function(t){e.$$.not_equal(r.equipment,t)&&(r.equipment=t,n(0,r),n(2,l),n(3,s),n(4,c),n(5,u),n(6,f))},()=>n(7,i=!0),function(){l=N(this.value),n(2,l)},function(){s=N(this.value),n(3,s)},function(){c=N(this.value),n(4,c)},function(){u=N(this.value),n(5,u)},function(){f=N(this.value),n(6,f)},e=>e.type===je.Equipment,e=>e.type===je.Item]}class vn extends be{constructor(e){super(),ge(this,e,hn,mn,l,{data:0,derived:1},[-1,-1])}}function $n(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function gn(e){let t,n,r;function o(t){e[9](t)}let i={type:Le,$$slots:{default:[bn,({index:e})=>({14:e}),({index:e})=>e?16384:0]},$$scope:{ctx:e}};return void 0!==e[0].tools&&(i.items=e[0].tools),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[4]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};49153&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.items=e[0].tools,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function bn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p;function m(t){e[5](t,e[14])}let h={class:"mb-2",label:"Name",placeholder:"Thieves' Tools"};function v(t){e[6](t,e[14])}void 0!==e[0].tools[e[14]].name&&(h.value=e[0].tools[e[14]].name),t=new mt({props:h}),X.push((()=>pe(t,"value",m)));let y={class:"flex-1",label:"Proficient",items:[{value:Re.None,text:"None"},{value:Re.Proficient,text:"Proficient"},{value:Re.Expertise,text:"Expertise"},{value:Re.JackOfAllTrades,text:"Jack of All Trades"}]};function _(t){e[7](t,e[14])}void 0!==e[0].tools[e[14]].proficient&&(y.value=e[0].tools[e[14]].proficient),i=new wt({props:y}),X.push((()=>pe(i,"value",v)));let k={class:"flex-1",label:"Ability",items:e[3]};function S(t){e[8](t,e[14])}void 0!==e[0].tools[e[14]].ability&&(k.value=e[0].tools[e[14]].ability),s=new wt({props:k}),X.push((()=>pe(s,"value",_)));let I={class:"h-72 w-96",type:"textarea",label:"Description"};return void 0!==e[0].tools[e[14]].description&&(I.value=e[0].tools[e[14]].description),f=new mt({props:I}),X.push((()=>pe(f,"value",S))),{c(){me(t.$$.fragment),r=w(),o=x("div"),me(i.$$.fragment),l=w(),me(s.$$.fragment),u=w(),me(f.$$.fragment),E(o,"class","gap-2 flex mb-2")},m(e,n){he(t,e,n),g(e,r,n),g(e,o,n),he(i,o,null),$(o,l),he(s,o,null),g(e,u,n),he(f,e,n),p=!0},p(r,o){e=r;const l={};!n&&16385&o&&(n=!0,l.value=e[0].tools[e[14]].name,Y((()=>n=!1))),t.$set(l);const u={};!a&&16385&o&&(a=!0,u.value=e[0].tools[e[14]].proficient,Y((()=>a=!1))),i.$set(u);const p={};!c&&16385&o&&(c=!0,p.value=e[0].tools[e[14]].ability,Y((()=>c=!1))),s.$set(p);const m={};!d&&16385&o&&(d=!0,m.value=e[0].tools[e[14]].description,Y((()=>d=!1))),f.$set(m)},i(e){p||(ce(t.$$.fragment,e),ce(i.$$.fragment,e),ce(s.$$.fragment,e),ce(f.$$.fragment,e),p=!0)},o(e){ue(t.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),ue(f.$$.fragment,e),p=!1},d(e){ve(t,e),e&&b(r),e&&b(o),ve(i),ve(s),e&&b(u),ve(f,e)}}}function yn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v=e[11].name+"",y=e[1].tools[e[13]].modifier+"",k=e[1].tools[e[13]].ability+"",S=e[11].description+"";return{c(){t=x("label"),n=x("span"),r=_(v),o=w(),i=x("span"),a=_(y),l=w(),s=x("span"),c=_(k),u=w(),f=x("input"),d=w(),p=x("div"),m=_(S),h=w(),E(f,"class","hidden svelte-1p4v3t7"),E(f,"type","checkbox"),E(p,"class","col-span-4 svelte-1p4v3t7"),E(t,"class","contents")},m(e,v){g(e,t,v),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(t,l),$(t,s),$(s,c),$(t,u),$(t,f),$(t,d),$(t,p),$(p,m),$(t,h)},p(e,t){1&t&&v!==(v=e[11].name+"")&&C(r,v),2&t&&y!==(y=e[1].tools[e[13]].modifier+"")&&C(a,y),2&t&&k!==(k=e[1].tools[e[13]].ability+"")&&C(c,k),1&t&&S!==(S=e[11].description+"")&&C(m,S)},d(e){e&&b(t)}}}function xn(e){let t,n,r,o,i,a,l,s,c,u,f=e[0].tools,d=[];for(let t=0;t<f.length;t+=1)d[t]=yn($n(e,f,t));return{c(){t=x("span"),t.textContent="edit",n=w(),r=x("div"),o=x("span"),o.textContent="Tool",i=x("span"),i.textContent="Pro",a=x("span"),a.textContent="Ability",l=x("span"),s=w();for(let e=0;e<d.length;e+=1)d[e].c();E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer"),E(r,"class","grid gap-2 svelte-1p4v3t7")},m(f,p){g(f,t,p),g(f,n,p),g(f,r,p),$(r,o),$(r,i),$(r,a),$(r,l),$(r,s);for(let e=0;e<d.length;e+=1)d[e].m(r,null);c||(u=S(t,"click",e[10]),c=!0)},p(e,t){if(3&t){let n;for(f=e[0].tools,n=0;n<f.length;n+=1){const o=$n(e,f,n);d[n]?d[n].p(o,t):(d[n]=yn(o),d[n].c(),d[n].m(r,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}},d(e){e&&b(t),e&&b(n),e&&b(r),y(d,e),c=!1,u()}}}function _n(e){let t,n,r,o=e[2]&&gn(e);return n=new Pt({props:{class:"relative mb-3 w-full",title:"Tool Proficiencies & Custom Skills",$$slots:{default:[xn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[2]?o?(o.p(e,r),4&r&&ce(o,1)):(o=gn(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};32775&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function wn(e,t,n){let{data:r}=t,{derived:o}=t,i=!1;const a=Ee(Te);return e.$$set=e=>{"data"in e&&n(0,r=e.data),"derived"in e&&n(1,o=e.derived)},[r,o,i,a,function(){n(0,r),n(2,i=!1)},function(t,o){e.$$.not_equal(r.tools[o].name,t)&&(r.tools[o].name=t,n(0,r))},function(t,o){e.$$.not_equal(r.tools[o].proficient,t)&&(r.tools[o].proficient=t,n(0,r))},function(t,o){e.$$.not_equal(r.tools[o].ability,t)&&(r.tools[o].ability=t,n(0,r))},function(t,o){e.$$.not_equal(r.tools[o].description,t)&&(r.tools[o].description=t,n(0,r))},function(t){e.$$.not_equal(r.tools,t)&&(r.tools=t,n(0,r))},()=>n(2,i=!0)]}class kn extends be{constructor(e){super(),ge(this,e,wn,_n,l,{data:0,derived:1})}}function Sn(e,t,n){const r=e.slice();return r[9]=t[n],r}function In(e){let t,n,r;function o(t){e[7](t)}let i={type:Fe,$$slots:{default:[En,({index:e})=>({12:e}),({index:e})=>e?4096:0]},$$scope:{ctx:e}};return void 0!==e[0].proficiencies&&(i.items=e[0].proficiencies),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[2]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};12289&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.items=e[0].proficiencies,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function En(e){let t,n,r,o,i,a,l,s,c,u;function f(t){e[4](t,e[12])}let d={label:"Type",items:e[3]};function p(t){e[5](t,e[12])}void 0!==e[0].proficiencies[e[12]].type&&(d.value=e[0].proficiencies[e[12]].type),n=new wt({props:d}),X.push((()=>pe(n,"value",f)));let m={label:"Proficiency",placeholder:"Common, Elvish"};function h(t){e[6](t,e[12])}void 0!==e[0].proficiencies[e[12]].name&&(m.value=e[0].proficiencies[e[12]].name),i=new mt({props:m}),X.push((()=>pe(i,"value",p)));let v={label:"Source",placeholder:"Race: Elf"};return void 0!==e[0].proficiencies[e[12]].source&&(v.value=e[0].proficiencies[e[12]].source),s=new mt({props:v}),X.push((()=>pe(s,"value",h))),{c(){t=x("div"),me(n.$$.fragment),o=w(),me(i.$$.fragment),l=w(),me(s.$$.fragment),E(t,"class","gap-2 flex mb-4")},m(e,r){g(e,t,r),he(n,t,null),$(t,o),he(i,t,null),$(t,l),he(s,t,null),u=!0},p(t,o){e=t;const l={};!r&&4097&o&&(r=!0,l.value=e[0].proficiencies[e[12]].type,Y((()=>r=!1))),n.$set(l);const u={};!a&&4097&o&&(a=!0,u.value=e[0].proficiencies[e[12]].name,Y((()=>a=!1))),i.$set(u);const f={};!c&&4097&o&&(c=!0,f.value=e[0].proficiencies[e[12]].source,Y((()=>c=!1))),s.$set(f)},i(e){u||(ce(n.$$.fragment,e),ce(i.$$.fragment,e),ce(s.$$.fragment,e),u=!0)},o(e){ue(n.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),u=!1},d(e){e&&b(t),ve(n),ve(i),ve(s)}}}function Nn(e){let t,n,r,o,i,a=Oe[e[9].type]+"",l=e[9].name+"";return{c(){t=x("span"),n=_(a),r=w(),o=x("span"),i=_(l)},m(e,a){g(e,t,a),$(t,n),g(e,r,a),g(e,o,a),$(o,i)},p(e,t){1&t&&a!==(a=Oe[e[9].type]+"")&&C(n,a),1&t&&l!==(l=e[9].name+"")&&C(i,l)},d(e){e&&b(t),e&&b(r),e&&b(o)}}}function Cn(e){let t,n,r,o,i,a,l,s,c=e[0].proficiencies,u=[];for(let t=0;t<c.length;t+=1)u[t]=Nn(Sn(e,c,t));return{c(){t=x("span"),t.textContent="edit",n=w(),r=x("div"),o=x("span"),o.textContent="Type",i=x("span"),i.textContent="Proficiency",a=w();for(let e=0;e<u.length;e+=1)u[e].c();E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer"),E(r,"class","grid grid-cols-2")},m(c,f){g(c,t,f),g(c,n,f),g(c,r,f),$(r,o),$(r,i),$(r,a);for(let e=0;e<u.length;e+=1)u[e].m(r,null);l||(s=S(t,"click",e[8]),l=!0)},p(e,t){if(1&t){let n;for(c=e[0].proficiencies,n=0;n<c.length;n+=1){const o=Sn(e,c,n);u[n]?u[n].p(o,t):(u[n]=Nn(o),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}},d(e){e&&b(t),e&&b(n),e&&b(r),y(u,e),l=!1,s()}}}function qn(e){let t,n,r,o=e[1]&&In(e);return n=new Pt({props:{class:"relative w-full",title:"Other Proficiencies",$$slots:{default:[Cn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[1]?o?(o.p(e,r),2&r&&ce(o,1)):(o=In(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};8195&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function Dn(e,t,n){let{data:r}=t,o=!1;const i=Ee(Oe);return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,o,function(){n(0,r),n(1,o=!1)},i,function(t,o){e.$$.not_equal(r.proficiencies[o].type,t)&&(r.proficiencies[o].type=t,n(0,r))},function(t,o){e.$$.not_equal(r.proficiencies[o].name,t)&&(r.proficiencies[o].name=t,n(0,r))},function(t,o){e.$$.not_equal(r.proficiencies[o].source,t)&&(r.proficiencies[o].source=t,n(0,r))},function(t){e.$$.not_equal(r.proficiencies,t)&&(r.proficiencies=t,n(0,r))},()=>n(1,o=!0)]}class An extends be{constructor(e){super(),ge(this,e,Dn,qn,l,{data:0})}}function Tn(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function Rn(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r[10]=t,r[11]=n,r}function jn(e){let t,n;return t=new Ye({props:{$$slots:{default:[Pn]},$$scope:{ctx:e}}}),t.$on("close",e[3]),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};4099&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function On(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h=e[7].name+"";function v(){e[4].call(o,e[6])}return{c(){t=x("span"),n=_(h),r=w(),o=x("select"),i=x("option"),a=_("None"),l=x("option"),s=_("Proficient"),c=x("option"),u=_("Experties"),f=x("option"),d=_("Jack of All Trades"),i.__value=Re.None,i.value=i.__value,l.__value=Re.Proficient,l.value=l.__value,c.__value=Re.Expertise,c.value=c.__value,f.__value=Re.JackOfAllTrades,f.value=f.__value,void 0===e[0].skills[e[6]]&&V(v)},m(h,b){g(h,t,b),$(t,n),g(h,r,b),g(h,o,b),$(o,i),$(i,a),$(o,l),$(l,s),$(o,c),$(c,u),$(o,f),$(f,d),D(o,e[0].skills[e[6]]),p||(m=S(o,"change",v),p=!0)},p(t,r){e=t,2&r&&h!==(h=e[7].name+"")&&C(n,h),3&r&&D(o,e[0].skills[e[6]])},d(e){e&&b(t),e&&b(r),e&&b(o),p=!1,m()}}}function Pn(e){let t,n,r,o,i,a,l,s,c,u,f,d=Object.entries(e[1].skills),p=[];for(let t=0;t<d.length;t+=1)p[t]=On(Rn(e,d,t));return{c(){t=x("div"),n=x("span"),n.textContent="Skill",r=x("span"),r.textContent="Proficieny",o=x("span"),o.textContent="Skill",i=x("span"),i.textContent="Proficieny",a=w();for(let e=0;e<p.length;e+=1)p[e].c();l=w(),s=x("div"),c=x("button"),c.textContent="Done",E(t,"class","dialog grid gap-4 items-center svelte-121eylk"),E(c,"class","text-primary-400 py-2 px-4 uppercase font-medium text-sm"),E(s,"class","flex justify-end mt-4 w-full")},m(d,m){g(d,t,m),$(t,n),$(t,r),$(t,o),$(t,i),$(t,a);for(let e=0;e<p.length;e+=1)p[e].m(t,null);g(d,l,m),g(d,s,m),$(s,c),u||(f=S(c,"click",e[3]),u=!0)},p(e,n){if(3&n){let r;for(d=Object.entries(e[1].skills),r=0;r<d.length;r+=1){const o=Rn(e,d,r);p[r]?p[r].p(o,n):(p[r]=On(o),p[r].c(),p[r].m(t,null))}for(;r<p.length;r+=1)p[r].d(1);p.length=d.length}},d(e){e&&b(t),y(p,e),e&&b(l),e&&b(s),u=!1,f()}}}function Mn(e){let t,n,r,o,i,a,l,s,c=e[0].skills[e[6]]==Re.Proficient?"check_box":e[0].skills[e[6]]==Re.Expertise?"check_boxcheck_box":e[0].skills[e[6]]==Re.JackOfAllTrades?"indeterminate_check_box":"check_box_outline_blank",u=e[7].modifier+"",f=e[7].name+"";return{c(){t=x("span"),n=_(c),r=w(),o=x("span"),i=_(u),a=w(),l=x("span"),s=_(f),E(t,"class","material-icons text-right text-sm")},m(e,c){g(e,t,c),$(t,n),g(e,r,c),g(e,o,c),$(o,i),g(e,a,c),g(e,l,c),$(l,s)},p(e,t){3&t&&c!==(c=e[0].skills[e[6]]==Re.Proficient?"check_box":e[0].skills[e[6]]==Re.Expertise?"check_boxcheck_box":e[0].skills[e[6]]==Re.JackOfAllTrades?"indeterminate_check_box":"check_box_outline_blank")&&C(n,c),2&t&&u!==(u=e[7].modifier+"")&&C(i,u),2&t&&f!==(f=e[7].name+"")&&C(s,f)},d(e){e&&b(t),e&&b(r),e&&b(o),e&&b(a),e&&b(l)}}}function Bn(e){let t,n,r,o,i,a=Object.entries(e[1].skills),l=[];for(let t=0;t<a.length;t+=1)l[t]=Mn(Tn(e,a,t));return{c(){t=x("div"),n=x("span"),n.textContent="edit",r=w();for(let e=0;e<l.length;e+=1)l[e].c();E(n,"class","col-span-3 material-icons text-gray-400 text-right text-sm"),E(t,"class","skills grid gap-x-2 items-center svelte-121eylk")},m(a,s){g(a,t,s),$(t,n),$(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);o||(i=S(n,"click",e[5]),o=!0)},p(e,n){if(3&n){let r;for(a=Object.entries(e[1].skills),r=0;r<a.length;r+=1){const o=Tn(e,a,r);l[r]?l[r].p(o,n):(l[r]=Mn(o),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(e){e&&b(t),y(l,e),o=!1,i()}}}function Ln(e){let t,n,r,o=e[2]&&jn(e);return n=new Pt({props:{class:"skills mb-3 pt-6 px-6",title:"Skills",$$slots:{default:[Bn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[2]?o?(o.p(e,r),4&r&&ce(o,1)):(o=jn(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};4103&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function Fn(e,t,n){let{data:r}=t,{derived:o}=t,i=!1;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"derived"in e&&n(1,o=e.derived)},[r,o,i,function(){n(2,i=!1)},function(e){r.skills[e]=A(this),n(0,r),n(1,o)},()=>n(2,i=!0)]}class Wn extends be{constructor(e){super(),ge(this,e,Fn,Ln,l,{data:0,derived:1})}}function zn(e,t,n){const r=e.slice();return r[16]=t[n],r}function Hn(e,t,n){const r=e.slice();return r[20]=t[n],r[21]=t,r[22]=n,r}function Un(e){let t,n,r;function o(t){e[14](t)}let i={type:He,class:"flex",$$slots:{default:[Jn,({index:e})=>({19:e}),({index:e})=>e?524288:0]},$$scope:{ctx:e}};return void 0!==e[0].effects&&(i.items=e[0].effects),t=new st({props:i}),X.push((()=>pe(t,"items",o))),t.$on("close",e[2]),{c(){me(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};8912897&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.items=e[0].effects,Y((()=>n=!1))),t.$set(o)},i(e){r||(ce(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ve(t,e)}}}function Xn(e){let t,n,r,o,i,a,l,s,c,u,f;function d(t){e[10](t,e[20])}let p={class:"mr-2",label:"Stat",items:[{text:"Ability Scores",items:e[5]},{text:"Other Stats",items:[{text:"Armor Class",value:Pe.AC},{text:"Speed",value:Pe.SPEED}]}]};function m(t){e[11](t,e[20])}void 0!==e[20].stat&&(p.value=e[20].stat),n=new wt({props:p}),X.push((()=>pe(n,"value",d)));let h={label:"Expression",placeholder:"STR + 2"};function v(){return e[12](e[19],e[22])}return void 0!==e[20].expr&&(h.value=e[20].expr),i=new mt({props:h}),X.push((()=>pe(i,"value",m))),{c(){t=x("li"),me(n.$$.fragment),o=_("\n            =\n            "),me(i.$$.fragment),l=w(),s=x("span"),s.textContent="clear",E(s,"class","material-icons text-sm cursor-pointer"),E(t,"class","flex items-center")},m(e,r){g(e,t,r),he(n,t,null),$(t,o),he(i,t,null),$(t,l),$(t,s),c=!0,u||(f=S(s,"click",v),u=!0)},p(t,o){e=t;const l={};!r&&524289&o&&(r=!0,l.value=e[20].stat,Y((()=>r=!1))),n.$set(l);const s={};!a&&524289&o&&(a=!0,s.value=e[20].expr,Y((()=>a=!1))),i.$set(s)},i(e){c||(ce(n.$$.fragment,e),ce(i.$$.fragment,e),c=!0)},o(e){ue(n.$$.fragment,e),ue(i.$$.fragment,e),c=!1},d(e){e&&b(t),ve(n),ve(i),u=!1,f()}}}function Jn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v,_,k,I,N,C,q;function D(t){e[6](t,e[19])}let A={label:"Name"};function T(t){e[7](t,e[19])}void 0!==e[0].effects[e[19]].name&&(A.value=e[0].effects[e[19]].name),n=new mt({props:A}),X.push((()=>pe(n,"value",D)));let R={label:"Source"};function j(t){e[8](t,e[19])}void 0!==e[0].effects[e[19]].source&&(R.value=e[0].effects[e[19]].source),i=new mt({props:R}),X.push((()=>pe(i,"value",T)));let O={label:"Duration"};function P(t){e[9](t,e[19])}void 0!==e[0].effects[e[19]].duration&&(O.value=e[0].effects[e[19]].duration),s=new mt({props:O}),X.push((()=>pe(s,"value",j)));let M={label:"Description",type:"textarea",class:"h-72 w-96"};void 0!==e[0].effects[e[19]].description&&(M.value=e[0].effects[e[19]].description),f=new mt({props:M}),X.push((()=>pe(f,"value",P)));let B=e[0].effects[e[19]].modifiers,L=[];for(let t=0;t<B.length;t+=1)L[t]=Xn(Hn(e,B,t));const F=e=>ue(L[e],1,1,(()=>{L[e]=null}));function W(){return e[13](e[19])}return{c(){t=x("div"),me(n.$$.fragment),o=w(),me(i.$$.fragment),l=w(),me(s.$$.fragment),u=w(),me(f.$$.fragment),p=w(),m=x("div"),h=x("span"),h.textContent="Stat Modifiers",v=w(),_=x("ul");for(let e=0;e<L.length;e+=1)L[e].c();k=w(),I=x("li"),I.textContent="+",E(I,"class","py-2 px-4 hover:bg-blue-100 text-center cursor-pointer"),E(_,"class","w-60"),E(m,"class","m-4")},m(e,r){g(e,t,r),he(n,t,null),$(t,o),he(i,t,null),$(t,l),he(s,t,null),$(t,u),he(f,t,null),g(e,p,r),g(e,m,r),$(m,h),$(m,v),$(m,_);for(let e=0;e<L.length;e+=1)L[e].m(_,null);$(_,k),$(_,I),N=!0,C||(q=S(I,"click",W),C=!0)},p(t,o){e=t;const l={};!r&&524289&o&&(r=!0,l.value=e[0].effects[e[19]].name,Y((()=>r=!1))),n.$set(l);const u={};!a&&524289&o&&(a=!0,u.value=e[0].effects[e[19]].source,Y((()=>a=!1))),i.$set(u);const p={};!c&&524289&o&&(c=!0,p.value=e[0].effects[e[19]].duration,Y((()=>c=!1))),s.$set(p);const m={};if(!d&&524289&o&&(d=!0,m.value=e[0].effects[e[19]].description,Y((()=>d=!1))),f.$set(m),524337&o){let t;for(B=e[0].effects[e[19]].modifiers,t=0;t<B.length;t+=1){const n=Hn(e,B,t);L[t]?(L[t].p(n,o),ce(L[t],1)):(L[t]=Xn(n),L[t].c(),ce(L[t],1),L[t].m(_,k))}for(le(),t=B.length;t<L.length;t+=1)F(t);se()}},i(e){if(!N){ce(n.$$.fragment,e),ce(i.$$.fragment,e),ce(s.$$.fragment,e),ce(f.$$.fragment,e);for(let e=0;e<B.length;e+=1)ce(L[e]);N=!0}},o(e){ue(n.$$.fragment,e),ue(i.$$.fragment,e),ue(s.$$.fragment,e),ue(f.$$.fragment,e),L=L.filter(Boolean);for(let e=0;e<L.length;e+=1)ue(L[e]);N=!1},d(e){e&&b(t),ve(n),ve(i),ve(s),ve(f),e&&b(p),e&&b(m),y(L,e),C=!1,q()}}}function Kn(e){let t,n,r,o=e[16].duration+"";return{c(){t=_("("),n=_(o),r=_(")")},m(e,o){g(e,t,o),g(e,n,o),g(e,r,o)},p(e,t){1&t&&o!==(o=e[16].duration+"")&&C(n,o)},d(e){e&&b(t),e&&b(n),e&&b(r)}}}function Gn(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m=e[16].name+"",h=e[16].source+"",v=e[16].description+"",y=""!==e[16].duration&&Kn(e);return{c(){t=x("label"),n=x("div"),r=_(m),o=w(),i=x("div"),a=_(h),l=w(),y&&y.c(),s=w(),c=x("input"),u=w(),f=x("p"),d=_(v),p=w(),E(n,"class","text-lg"),E(i,"class","text-sm"),E(c,"type","checkbox"),E(c,"class","svelte-16qdfaj"),E(f,"class","whitespace-pre-wrap svelte-16qdfaj"),E(t,"class","mb-4")},m(e,m){g(e,t,m),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(i,l),y&&y.m(i,null),$(t,s),$(t,c),$(t,u),$(t,f),$(f,d),$(t,p)},p(e,t){1&t&&m!==(m=e[16].name+"")&&C(r,m),1&t&&h!==(h=e[16].source+"")&&C(a,h),""!==e[16].duration?y?y.p(e,t):(y=Kn(e),y.c(),y.m(i,null)):y&&(y.d(1),y=null),1&t&&v!==(v=e[16].description+"")&&C(d,v)},d(e){e&&b(t),y&&y.d()}}}function Qn(e){let t,n,r,o,i,a=e[0].effects,l=[];for(let t=0;t<a.length;t+=1)l[t]=Gn(zn(e,a,t));return{c(){t=x("span"),t.textContent="edit",n=w();for(let e=0;e<l.length;e+=1)l[e].c();r=k(),E(t,"class","material-icons right-2 top-2 absolute text-gray-400 text-sm cursor-pointer")},m(a,s){g(a,t,s),g(a,n,s);for(let e=0;e<l.length;e+=1)l[e].m(a,s);g(a,r,s),o||(i=S(t,"click",e[15]),o=!0)},p(e,t){if(1&t){let n;for(a=e[0].effects,n=0;n<a.length;n+=1){const o=zn(e,a,n);l[n]?l[n].p(o,t):(l[n]=Gn(o),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},d(e){e&&b(t),e&&b(n),y(l,e),e&&b(r),o=!1,i()}}}function Vn(e){let t,n,r,o=e[1]&&Un(e);return n=new Pt({props:{class:"relative mb-3 p-4",title:"Active Effects",$$slots:{default:[Qn]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=w(),me(n.$$.fragment)},m(e,i){o&&o.m(e,i),g(e,t,i),he(n,e,i),r=!0},p(e,[r]){e[1]?o?(o.p(e,r),2&r&&ce(o,1)):(o=Un(e),o.c(),ce(o,1),o.m(t.parentNode,t)):o&&(le(),ue(o,1,1,(()=>{o=null})),se());const i={};8388611&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(ce(o),ce(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&b(t),ve(n,e)}}}function Yn(e,t,n){let{data:r}=t,o=!1;function i(e){e.modifiers.push(new Ue),n(0,r)}function a(e,t){e.modifiers.splice(t,1),n(0,r)}const l=Ee(Te);return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,o,function(){n(1,o=!1),n(0,r)},i,a,l,function(t,o){e.$$.not_equal(r.effects[o].name,t)&&(r.effects[o].name=t,n(0,r))},function(t,o){e.$$.not_equal(r.effects[o].source,t)&&(r.effects[o].source=t,n(0,r))},function(t,o){e.$$.not_equal(r.effects[o].duration,t)&&(r.effects[o].duration=t,n(0,r))},function(t,o){e.$$.not_equal(r.effects[o].description,t)&&(r.effects[o].description=t,n(0,r))},function(t,o){e.$$.not_equal(o.stat,t)&&(o.stat=t,n(0,r))},function(t,o){e.$$.not_equal(o.expr,t)&&(o.expr=t,n(0,r))},(e,t)=>a(r.effects[e],t),e=>i(r.effects[e]),function(t){e.$$.not_equal(r.effects,t)&&(r.effects=t,n(0,r))},()=>n(1,o=!0)]}class Zn extends be{constructor(e){super(),ge(this,e,Yn,Vn,l,{data:0})}}function er(e,t,n){const r=e.slice();return r[30]=t[n][0],r[31]=t[n][1],r}function tr(e,t,n){const r=e.slice();return r[34]=t[n][0],r[31]=t[n][1],r[35]=t,r[36]=n,r}function nr(e,t,n){const r=e.slice();return r[34]=t[n][0],r[37]=t[n][1],r[38]=t,r[39]=n,r}function rr(e,t,n){const r=e.slice();return r[40]=t[n],r}function or(e){let n,r,o=e[40]+"";return{c(){n=x("option"),r=_(o),n.__value=e[40],n.value=n.__value},m(e,t){g(e,n,t),$(n,r)},p:t,d(e){e&&b(n)}}}function ir(e){let t,n,r,o,a,l,s,c,u,f,d,p,m,h,v,k,I,N,C,A,T,R,j,O,P=Se(1,21),M=[];for(let t=0;t<P.length;t+=1)M[t]=or(rr(e,P,t));return{c(){t=x("label"),n=x("div"),r=x("input"),o=w(),a=x("select");for(let e=0;e<M.length;e+=1)M[e].c();l=_("\n      Class & Level"),s=w(),c=x("label"),u=x("input"),f=_("\n      Background"),d=w(),p=x("label"),m=x("input"),h=_("\n      Race"),v=w(),k=x("label"),I=x("input"),N=_("\n      Alignment"),C=w(),A=x("label"),T=x("input"),R=_("\n      Experience Points"),void 0===e[0].level&&V((()=>e[4].call(a))),E(n,"class","w-full border-b border-gray-200"),E(t,"class","w-1/3"),E(u,"class","w-full border-b border-gray-200"),E(c,"class","w-2/3"),E(m,"class","w-full border-b border-gray-200"),E(p,"class","w-1/3"),E(I,"class","w-full border-b border-gray-200"),E(k,"class","w-1/3"),E(T,"class","w-full border-b border-gray-200"),E(A,"class","w-1/3")},m(i,b){g(i,t,b),$(t,n),$(n,r),q(r,e[0].playerClass),$(n,o),$(n,a);for(let e=0;e<M.length;e+=1)M[e].m(a,null);D(a,e[0].level),$(t,l),g(i,s,b),g(i,c,b),$(c,u),q(u,e[0].background),$(c,f),g(i,d,b),g(i,p,b),$(p,m),q(m,e[0].race),$(p,h),g(i,v,b),g(i,k,b),$(k,I),q(I,e[0].alignment),$(k,N),g(i,C,b),g(i,A,b),$(A,T),q(T,e[0].exp),$(A,R),j||(O=[S(r,"input",e[3]),S(a,"change",e[4]),S(u,"input",e[5]),S(m,"input",e[6]),S(I,"input",e[7]),S(T,"input",e[8])],j=!0)},p(e,t){if(1&t[0]&&r.value!==e[0].playerClass&&q(r,e[0].playerClass),0&t){let n;for(P=Se(1,21),n=0;n<P.length;n+=1){const r=rr(e,P,n);M[n]?M[n].p(r,t):(M[n]=or(r),M[n].c(),M[n].m(a,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=P.length}1&t[0]&&D(a,e[0].level),1&t[0]&&u.value!==e[0].background&&q(u,e[0].background),1&t[0]&&m.value!==e[0].race&&q(m,e[0].race),1&t[0]&&I.value!==e[0].alignment&&q(I,e[0].alignment),1&t[0]&&T.value!==e[0].exp&&q(T,e[0].exp)},d(e){e&&b(t),y(M,e),e&&b(s),e&&b(c),e&&b(d),e&&b(p),e&&b(v),e&&b(k),e&&b(C),e&&b(A),j=!1,i(O)}}}function ar(e){let t,n,r,o,i,a,l,s,c,u,f,d=e[37].name+"",p=e[37].modifier+"";function m(){e[9].call(s,e[34])}return{c(){t=x("label"),n=x("span"),r=_(d),o=w(),i=x("span"),a=_(p),l=w(),s=x("input"),c=w(),E(i,"class","text-5xl"),E(s,"class","-bottom-2 relative w-12 border border-gray-200 bg-white text-center text-2xl"),E(s,"type","number"),E(t,"class","flex items-center flex-col")},m(d,p){g(d,t,p),$(t,n),$(n,r),$(t,o),$(t,i),$(i,a),$(t,l),$(t,s),q(s,e[0].abilityScores[e[34]]),g(d,c,p),u||(f=S(s,"input",m),u=!0)},p(t,n){e=t,2&n[0]&&d!==(d=e[37].name+"")&&C(r,d),2&n[0]&&p!==(p=e[37].modifier+"")&&C(a,p),3&n[0]&&N(s.value)!==e[0].abilityScores[e[34]]&&q(s,e[0].abilityScores[e[34]])},d(e){e&&b(t),e&&b(c),u=!1,f()}}}function lr(e){let t,n;return t=new Pt({props:{class:"mb-6",$$slots:{default:[ar]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};3&n[0]|4096&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function sr(e){let t,n,r,o,i,a;return{c(){t=x("label"),n=x("input"),r=w(),o=x("span"),o.textContent="Inspiration",E(n,"type","checkbox"),E(o,"class","flex-grow text-center"),E(t,"class","flex px-4")},m(l,s){g(l,t,s),$(t,n),n.checked=e[0].inspiration,$(t,r),$(t,o),i||(a=S(n,"change",e[10]),i=!0)},p(e,t){1&t[0]&&(n.checked=e[0].inspiration)},d(e){e&&b(t),i=!1,a()}}}function cr(e){let t,n,r,o,i,a;return{c(){t=x("label"),n=x("input"),r=w(),o=x("span"),o.textContent="Proficiency Bonus",E(n,"class","w-6 text-center"),E(n,"type","number"),E(o,"class","flex-grow text-center"),E(t,"class","flex px-4")},m(l,s){g(l,t,s),$(t,n),q(n,e[0].proficiency),$(t,r),$(t,o),i||(a=S(n,"input",e[11]),i=!0)},p(e,t){1&t[0]&&N(n.value)!==e[0].proficiency&&q(n,e[0].proficiency)},d(e){e&&b(t),i=!1,a()}}}function ur(e){let t,n,r,o,i,a,l,s,c,u,f=e[31].modifier+"",d=e[31].name+"";function p(){e[12].call(n,e[34])}return{c(){t=x("label"),n=x("input"),r=w(),o=x("span"),i=_(f),a=w(),l=_(d),s=w(),E(n,"class","mr-4"),E(n,"type","checkbox"),E(o,"class","mr-4"),E(t,"class","flex")},m(f,d){g(f,t,d),$(t,n),n.checked=e[0].savingThrows[e[34]],$(t,r),$(t,o),$(o,i),$(t,a),$(t,l),$(t,s),c||(u=S(n,"change",p),c=!0)},p(t,r){e=t,3&r[0]&&(n.checked=e[0].savingThrows[e[34]]),2&r[0]&&f!==(f=e[31].modifier+"")&&C(i,f),2&r[0]&&d!==(d=e[31].name+"")&&C(l,d)},d(e){e&&b(t),c=!1,u()}}}function fr(e){let t,n=Object.entries(e[1].savingThrows),r=[];for(let t=0;t<n.length;t+=1)r[t]=ur(tr(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=k()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);g(e,t,n)},p(e,o){if(3&o[0]){let i;for(n=Object.entries(e[1].savingThrows),i=0;i<n.length;i+=1){const a=tr(e,n,i);r[i]?r[i].p(a,o):(r[i]=ur(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){y(r,e),e&&b(t)}}}function dr(e){let t,n,r,o,i=10+e[1].skills.perception.modifier+"";return{c(){t=x("span"),n=_(i),r=w(),o=x("span"),o.textContent="passive wisdom (perception)",E(t,"class","w-12"),E(o,"class","flex-grow text-center")},m(e,i){g(e,t,i),$(t,n),g(e,r,i),g(e,o,i)},p(e,t){2&t[0]&&i!==(i=10+e[1].skills.perception.modifier+"")&&C(n,i)},d(e){e&&b(t),e&&b(r),e&&b(o)}}}function pr(e){let t,n,r=e[1].armorClass+"";return{c(){t=x("div"),n=_(r),E(t,"class","w-full text-5xl")},m(e,r){g(e,t,r),$(t,n)},p(e,t){2&t[0]&&r!==(r=e[1].armorClass+"")&&C(n,r)},d(e){e&&b(t)}}}function mr(e){let t,n,r=e[1].abilityScores[Te.DEX].modifier+"";return{c(){t=x("div"),n=_(r),E(t,"class","w-full text-5xl")},m(e,r){g(e,t,r),$(t,n)},p(e,t){2&t[0]&&r!==(r=e[1].abilityScores[Te.DEX].modifier+"")&&C(n,r)},d(e){e&&b(t)}}}function hr(e){let t,n,r=e[1].speed+"";return{c(){t=x("div"),n=_(r),E(t,"class","w-full text-5xl")},m(e,r){g(e,t,r),$(t,n)},p(e,t){2&t[0]&&r!==(r=e[1].speed+"")&&C(n,r)},d(e){e&&b(t)}}}function vr(e){let t,n,r,o,a,l,s,c,u;return{c(){t=x("label"),n=_("Hit Point Maximum\n        "),r=x("input"),o=w(),a=x("label"),l=x("input"),s=_("\n        Current Hit Points"),E(r,"class","flex-grow ml-2 border-b border-gray-200 text-center"),E(r,"type","number"),E(t,"class","flex w-full"),E(l,"class","w-full text-center text-5xl"),E(l,"type","number")},m(i,f){g(i,t,f),$(t,n),$(t,r),q(r,e[0].hp.max),g(i,o,f),g(i,a,f),$(a,l),q(l,e[0].hp.current),$(a,s),c||(u=[S(r,"input",e[16]),S(l,"input",e[17])],c=!0)},p(e,t){1&t[0]&&N(r.value)!==e[0].hp.max&&q(r,e[0].hp.max),1&t[0]&&N(l.value)!==e[0].hp.current&&q(l,e[0].hp.current)},d(e){e&&b(t),e&&b(o),e&&b(a),c=!1,i(u)}}}function $r(e){let t,n,r;return{c(){t=x("input"),E(t,"class","w-full text-center text-5xl"),E(t,"type","number")},m(o,i){g(o,t,i),q(t,e[0].hp.temp),n||(r=S(t,"input",e[18]),n=!0)},p(e,n){1&n[0]&&N(t.value)!==e[0].hp.temp&&q(t,e[0].hp.temp)},d(e){e&&b(t),n=!1,r()}}}function gr(e){let n,r,o=e[30]+"";return{c(){n=x("option"),r=_(o),n.__value=e[31],n.value=n.__value},m(e,t){g(e,n,t),$(n,r)},p:t,d(e){e&&b(n)}}}function br(e){let t,n,r,o,a,l,s,c,u,f,d=Object.entries(Ae).filter(_r),p=[];for(let t=0;t<d.length;t+=1)p[t]=gr(er(e,d,t));return{c(){t=x("label"),n=_("Total\n        "),r=x("input"),o=w(),a=x("input"),l=_("\n      Hit Dice ("),s=x("select");for(let e=0;e<p.length;e+=1)p[e].c();c=_(")"),E(r,"class","overflow-hidden flex-1 ml-2 border-b border-gray-200 text-center"),E(r,"type","number"),E(t,"class","flex"),E(a,"class","w-full text-center text-2xl"),E(a,"type","number"),E(s,"class","w-7"),void 0===e[0].hitDice.type&&V((()=>e[21].call(s)))},m(i,d){g(i,t,d),$(t,n),$(t,r),q(r,e[0].hitDice.max),g(i,o,d),g(i,a,d),q(a,e[0].hitDice.current),g(i,l,d),g(i,s,d);for(let e=0;e<p.length;e+=1)p[e].m(s,null);D(s,e[0].hitDice.type),g(i,c,d),u||(f=[S(r,"input",e[19]),S(a,"input",e[20]),S(s,"change",e[21])],u=!0)},p(e,t){if(1&t[0]&&N(r.value)!==e[0].hitDice.max&&q(r,e[0].hitDice.max),1&t[0]&&N(a.value)!==e[0].hitDice.current&&q(a,e[0].hitDice.current),0&t){let n;for(d=Object.entries(Ae).filter(_r),n=0;n<d.length;n+=1){const r=er(e,d,n);p[n]?p[n].p(r,t):(p[n]=gr(r),p[n].c(),p[n].m(s,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}1&t[0]&&D(s,e[0].hitDice.type)},d(e){e&&b(t),e&&b(o),e&&b(a),e&&b(l),e&&b(s),y(p,e),e&&b(c),u=!1,i(f)}}}function yr(e){let t,n,r,o,a,l,s,c,u,f,d,p,m,h,v,y,k,I,N,q,D,A,T,R,j,O=e[0].deathSaves.success>=1?"check_box":"check_box_outline_blank",P=e[0].deathSaves.success>=2?"check_box":"check_box_outline_blank",M=e[0].deathSaves.success>=3?"check_box":"check_box_outline_blank",B=e[0].deathSaves.failure>=1?"disabled_by_default":"check_box_outline_blank",L=e[0].deathSaves.failure>=2?"disabled_by_default":"check_box_outline_blank",F=e[0].deathSaves.failure>=3?"disabled_by_default":"check_box_outline_blank";return{c(){t=x("div"),n=x("span"),n.textContent="Success",r=w(),o=x("span"),a=_(O),l=w(),s=x("span"),c=_(P),u=w(),f=x("span"),d=_(M),p=w(),m=x("div"),h=x("span"),h.textContent="Failure",v=w(),y=x("span"),k=_(B),I=w(),N=x("span"),q=_(L),D=w(),A=x("span"),T=_(F),E(n,"class","w-1/2"),E(o,"class","material-icons pointer-events-none"),E(s,"class","material-icons pointer-events-none"),E(f,"class","material-icons pointer-events-none"),E(t,"class","flex"),E(h,"class","w-1/2"),E(y,"class","material-icons pointer-events-none"),E(N,"class","material-icons pointer-events-none"),E(A,"class","material-icons pointer-events-none"),E(m,"class","flex")},m(i,b){g(i,t,b),$(t,n),$(t,r),$(t,o),$(o,a),$(t,l),$(t,s),$(s,c),$(t,u),$(t,f),$(f,d),g(i,p,b),g(i,m,b),$(m,h),$(m,v),$(m,y),$(y,k),$(m,I),$(m,N),$(N,q),$(m,D),$(m,A),$(A,T),R||(j=[S(t,"click",e[22]),S(m,"click",e[23])],R=!0)},p(e,t){1&t[0]&&O!==(O=e[0].deathSaves.success>=1?"check_box":"check_box_outline_blank")&&C(a,O),1&t[0]&&P!==(P=e[0].deathSaves.success>=2?"check_box":"check_box_outline_blank")&&C(c,P),1&t[0]&&M!==(M=e[0].deathSaves.success>=3?"check_box":"check_box_outline_blank")&&C(d,M),1&t[0]&&B!==(B=e[0].deathSaves.failure>=1?"disabled_by_default":"check_box_outline_blank")&&C(k,B),1&t[0]&&L!==(L=e[0].deathSaves.failure>=2?"disabled_by_default":"check_box_outline_blank")&&C(q,L),1&t[0]&&F!==(F=e[0].deathSaves.failure>=3?"disabled_by_default":"check_box_outline_blank")&&C(T,F)},d(e){e&&b(t),e&&b(p),e&&b(m),R=!1,i(j)}}}function xr(e){let t,n,r,o,i,a,l,s,c,u,f,d,p,m,h,v,k,I,N,C,D,A,T,R,j,O,P,M,B,L,F,W,z,H,U,J,K,G,Q,V,Z,ee,te,ne,re,oe,ie,ae,fe,de,$e,ge,be,ye,xe,_e,we,ke,Se,Ie,Ee,Ne;a=new Pt({props:{class:"flex flex-wrap p-4 w-2/3",$$slots:{default:[ir]},$$scope:{ctx:e}}});let Ce=Object.entries(e[1].abilityScores),qe=[];for(let t=0;t<Ce.length;t+=1)qe[t]=lr(nr(e,Ce,t));const De=e=>ue(qe[e],1,1,(()=>{qe[e]=null}));function Ae(t){e[13](t)}p=new Pt({props:{class:"mb-3",$$slots:{default:[sr]},$$scope:{ctx:e}}}),h=new Pt({props:{class:"mb-3",$$slots:{default:[cr]},$$scope:{ctx:e}}}),k=new Pt({props:{class:"flex flex-col mb-3 pt-6 px-6",title:"Saving Throws",$$slots:{default:[fr]},$$scope:{ctx:e}}});let Te={derived:e[1]};function Re(t){e[14](t)}void 0!==e[0]&&(Te.data=e[0]),N=new Wn({props:Te}),X.push((()=>pe(N,"data",Ae))),A=new Pt({props:{class:"flex mb-3 px-4 w-full",$$slots:{default:[dr]},$$scope:{ctx:e}}});let je={derived:e[1]};function Oe(t){e[15](t)}void 0!==e[0]&&(je.data=e[0]),R=new kn({props:je}),X.push((()=>pe(R,"data",Re)));let Pe={};function Me(t){e[24](t)}void 0!==e[0]&&(Pe.data=e[0]),P=new An({props:Pe}),X.push((()=>pe(P,"data",Oe))),F=new Pt({props:{class:"py-2 text-center",area:"ac",title:"Armor Class",label:!0,$$slots:{default:[pr]},$$scope:{ctx:e}}}),z=new Pt({props:{class:"py-2 text-center",area:"in",title:"Initiative",$$slots:{default:[mr]},$$scope:{ctx:e}}}),U=new Pt({props:{class:"py-2 text-center",area:"speed",title:"Speed",label:!0,$$slots:{default:[hr]},$$scope:{ctx:e}}}),K=new Pt({props:{class:"flex flex-col w-full text-center",area:"hp",$$slots:{default:[vr]},$$scope:{ctx:e}}}),Q=new Pt({props:{area:"tmp",title:"Temporary Hit Points",label:!0,$$slots:{default:[$r]},$$scope:{ctx:e}}}),Z=new Pt({props:{class:"overflow-hidden text-center",area:"hit",$$slots:{default:[br]},$$scope:{ctx:e}}}),te=new Pt({props:{class:"flex overflow-hidden flex-col justify-around px-2",area:"ds",title:"Death Saves",$$slots:{default:[yr]},$$scope:{ctx:e}}});let Be={derived:e[1]};function Le(t){e[25](t)}void 0!==e[0]&&(Be.data=e[0]),re=new Ut({props:Be}),X.push((()=>pe(re,"data",Me)));let Fe={derived:e[1]};function We(t){e[26](t)}void 0!==e[0]&&(Fe.data=e[0]),ae=new vn({props:Fe}),X.push((()=>pe(ae,"data",Le)));let ze={};function He(t){e[27](t)}void 0!==e[0]&&(ze.data=e[0]),ge=new Zn({props:ze}),X.push((()=>pe(ge,"data",We)));let Ue={};function Xe(t){e[28](t)}void 0!==e[0]&&(Ue.data=e[0]),xe=new Vt({props:Ue}),X.push((()=>pe(xe,"data",He)));let Je={};return void 0!==e[0]&&(Je.data=e[0]),ke=new an({props:Je}),X.push((()=>pe(ke,"data",Xe))),{c(){t=x("div"),n=x("label"),r=x("input"),o=_("\n    Character Name"),i=w(),me(a.$$.fragment),l=w(),s=x("div"),c=x("div"),u=x("div");for(let e=0;e<qe.length;e+=1)qe[e].c();f=w(),d=x("div"),me(p.$$.fragment),m=w(),me(h.$$.fragment),v=w(),me(k.$$.fragment),I=w(),me(N.$$.fragment),D=w(),me(A.$$.fragment),T=w(),me(R.$$.fragment),O=w(),me(P.$$.fragment),B=w(),L=x("div"),me(F.$$.fragment),W=w(),me(z.$$.fragment),H=w(),me(U.$$.fragment),J=w(),me(K.$$.fragment),G=w(),me(Q.$$.fragment),V=w(),me(Z.$$.fragment),ee=w(),me(te.$$.fragment),ne=w(),me(re.$$.fragment),ie=w(),me(ae.$$.fragment),de=w(),$e=x("div"),me(ge.$$.fragment),ye=w(),me(xe.$$.fragment),we=w(),me(ke.$$.fragment),E(r,"class","w-full"),E(n,"class","p-4 w-1/3 border-t border-b border-gray-200 border-l"),E(t,"class","flex items-center mb-3"),E(u,"class","pr-1.5 w-1/3"),E(d,"class","pl-1.5 w-2/3"),E(c,"class","flex flex-wrap"),E(L,"class","second svelte-c9t340"),E(s,"class","grid grid-cols-3 gap-3")},m(b,y){g(b,t,y),$(t,n),$(n,r),q(r,e[0].name),$(n,o),$(t,i),he(a,t,null),g(b,l,y),g(b,s,y),$(s,c),$(c,u);for(let e=0;e<qe.length;e+=1)qe[e].m(u,null);$(c,f),$(c,d),he(p,d,null),$(d,m),he(h,d,null),$(d,v),he(k,d,null),$(d,I),he(N,d,null),$(c,D),he(A,c,null),$(c,T),he(R,c,null),$(c,O),he(P,c,null),$(s,B),$(s,L),he(F,L,null),$(L,W),he(z,L,null),$(L,H),he(U,L,null),$(L,J),he(K,L,null),$(L,G),he(Q,L,null),$(L,V),he(Z,L,null),$(L,ee),he(te,L,null),$(L,ne),he(re,L,null),$(L,ie),he(ae,L,null),$(s,de),$(s,$e),he(ge,$e,null),$($e,ye),he(xe,$e,null),$($e,we),he(ke,$e,null),Ie=!0,Ee||(Ne=S(r,"input",e[2]),Ee=!0)},p(e,t){1&t[0]&&r.value!==e[0].name&&q(r,e[0].name);const n={};if(1&t[0]|4096&t[1]&&(n.$$scope={dirty:t,ctx:e}),a.$set(n),3&t[0]){let n;for(Ce=Object.entries(e[1].abilityScores),n=0;n<Ce.length;n+=1){const r=nr(e,Ce,n);qe[n]?(qe[n].p(r,t),ce(qe[n],1)):(qe[n]=lr(r),qe[n].c(),ce(qe[n],1),qe[n].m(u,null))}for(le(),n=Ce.length;n<qe.length;n+=1)De(n);se()}const o={};1&t[0]|4096&t[1]&&(o.$$scope={dirty:t,ctx:e}),p.$set(o);const i={};1&t[0]|4096&t[1]&&(i.$$scope={dirty:t,ctx:e}),h.$set(i);const l={};3&t[0]|4096&t[1]&&(l.$$scope={dirty:t,ctx:e}),k.$set(l);const s={};2&t[0]&&(s.derived=e[1]),!C&&1&t[0]&&(C=!0,s.data=e[0],Y((()=>C=!1))),N.$set(s);const c={};2&t[0]|4096&t[1]&&(c.$$scope={dirty:t,ctx:e}),A.$set(c);const f={};2&t[0]&&(f.derived=e[1]),!j&&1&t[0]&&(j=!0,f.data=e[0],Y((()=>j=!1))),R.$set(f);const d={};!M&&1&t[0]&&(M=!0,d.data=e[0],Y((()=>M=!1))),P.$set(d);const m={};2&t[0]|4096&t[1]&&(m.$$scope={dirty:t,ctx:e}),F.$set(m);const v={};2&t[0]|4096&t[1]&&(v.$$scope={dirty:t,ctx:e}),z.$set(v);const $={};2&t[0]|4096&t[1]&&($.$$scope={dirty:t,ctx:e}),U.$set($);const g={};1&t[0]|4096&t[1]&&(g.$$scope={dirty:t,ctx:e}),K.$set(g);const b={};1&t[0]|4096&t[1]&&(b.$$scope={dirty:t,ctx:e}),Q.$set(b);const y={};1&t[0]|4096&t[1]&&(y.$$scope={dirty:t,ctx:e}),Z.$set(y);const x={};1&t[0]|4096&t[1]&&(x.$$scope={dirty:t,ctx:e}),te.$set(x);const _={};2&t[0]&&(_.derived=e[1]),!oe&&1&t[0]&&(oe=!0,_.data=e[0],Y((()=>oe=!1))),re.$set(_);const w={};2&t[0]&&(w.derived=e[1]),!fe&&1&t[0]&&(fe=!0,w.data=e[0],Y((()=>fe=!1))),ae.$set(w);const S={};!be&&1&t[0]&&(be=!0,S.data=e[0],Y((()=>be=!1))),ge.$set(S);const I={};!_e&&1&t[0]&&(_e=!0,I.data=e[0],Y((()=>_e=!1))),xe.$set(I);const E={};!Se&&1&t[0]&&(Se=!0,E.data=e[0],Y((()=>Se=!1))),ke.$set(E)},i(e){if(!Ie){ce(a.$$.fragment,e);for(let e=0;e<Ce.length;e+=1)ce(qe[e]);ce(p.$$.fragment,e),ce(h.$$.fragment,e),ce(k.$$.fragment,e),ce(N.$$.fragment,e),ce(A.$$.fragment,e),ce(R.$$.fragment,e),ce(P.$$.fragment,e),ce(F.$$.fragment,e),ce(z.$$.fragment,e),ce(U.$$.fragment,e),ce(K.$$.fragment,e),ce(Q.$$.fragment,e),ce(Z.$$.fragment,e),ce(te.$$.fragment,e),ce(re.$$.fragment,e),ce(ae.$$.fragment,e),ce(ge.$$.fragment,e),ce(xe.$$.fragment,e),ce(ke.$$.fragment,e),Ie=!0}},o(e){ue(a.$$.fragment,e),qe=qe.filter(Boolean);for(let e=0;e<qe.length;e+=1)ue(qe[e]);ue(p.$$.fragment,e),ue(h.$$.fragment,e),ue(k.$$.fragment,e),ue(N.$$.fragment,e),ue(A.$$.fragment,e),ue(R.$$.fragment,e),ue(P.$$.fragment,e),ue(F.$$.fragment,e),ue(z.$$.fragment,e),ue(U.$$.fragment,e),ue(K.$$.fragment,e),ue(Q.$$.fragment,e),ue(Z.$$.fragment,e),ue(te.$$.fragment,e),ue(re.$$.fragment,e),ue(ae.$$.fragment,e),ue(ge.$$.fragment,e),ue(xe.$$.fragment,e),ue(ke.$$.fragment,e),Ie=!1},d(e){e&&b(t),ve(a),e&&b(l),e&&b(s),y(qe,e),ve(p),ve(h),ve(k),ve(N),ve(A),ve(R),ve(P),ve(F),ve(z),ve(U),ve(K),ve(Q),ve(Z),ve(te),ve(re),ve(ae),ve(ge),ve(xe),ve(ke),Ee=!1,Ne()}}}const _r=e=>"number"==typeof e[1];function wr(t,n,r){let o,{data:i}=n;const a=function(e,t){let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}((e=>we.setItem(e.uid,e)),1e3);return t.$$set=e=>{"data"in e&&r(0,i=e.data)},t.$$.update=()=>{1&t.$$.dirty[0]&&r(1,o=function(t){const n={abilityScores:Ie(t.abilityScores,((e,t)=>({modifier:Math.floor((e-10)/2),name:Je[t]}))),armorClass:t.armorClass,speed:t.speed};for(const r of t.effects.flatMap((e=>e.modifiers)))try{const t=e.Parser.evaluate(r.expr.toUpperCase(),{STR:n.abilityScores[Te.STR].modifier,DEX:n.abilityScores[Te.DEX].modifier,CON:n.abilityScores[Te.CON].modifier,INT:n.abilityScores[Te.INT].modifier,WIS:n.abilityScores[Te.WIS].modifier,CHA:n.abilityScores[Te.CHA].modifier,AC:n.armorClass,SPEED:n.speed});switch(r.stat){case Pe.AC:n.armorClass=t;break;case Pe.SPEED:n.speed=t;break;default:n.abilityScores[r.stat].modifier=t}}catch(e){}function r(e,r){return n.abilityScores[e].modifier+(r==Re.Proficient?t.proficiency:r==Re.Expertise?2*t.proficiency:r==Re.JackOfAllTrades?Math.floor(t.proficiency/2):0)}let o=t.coin,i=Math.floor(o/1e3);o%=1e3;let a=Math.floor(o/100);o%=100;let l=Math.floor(o/50);o%=50;let s=Math.floor(o/10);return o%=10,{...n,savingThrows:Ie(t.savingThrows,((e,r)=>({modifier:n.abilityScores[r].modifier+(e?t.proficiency:0),name:Je[r]}))),tools:t.tools.map((e=>({ability:Je[e.ability],modifier:r(e.ability,e.proficient)}))),skills:{acrobatics:{name:"Acrobatics (Dex)",modifier:r(Te.DEX,t.skills.acrobatics)},animalHandling:{name:"Animal Handling (Wis)",modifier:r(Te.WIS,t.skills.animalHandling)},arcana:{name:"Arcana (Int)",modifier:r(Te.INT,t.skills.arcana)},athletics:{name:"Athletics (Str)",modifier:r(Te.STR,t.skills.athletics)},deception:{name:"Deception (Cha)",modifier:r(Te.CHA,t.skills.deception)},history:{name:"History (Int)",modifier:r(Te.INT,t.skills.history)},insight:{name:"Insight (Wis)",modifier:r(Te.WIS,t.skills.insight)},intimidation:{name:"Medicine (Wis)",modifier:r(Te.WIS,t.skills.intimidation)},investigation:{name:"Investigation (Int)",modifier:r(Te.INT,t.skills.investigation)},medicine:{name:"Medicine (Wis)",modifier:r(Te.WIS,t.skills.medicine)},nature:{name:"Nature (Int)",modifier:r(Te.INT,t.skills.nature)},perception:{name:"Perception (Wis)",modifier:r(Te.WIS,t.skills.perception)},performance:{name:"Performance (Cha)",modifier:r(Te.CHA,t.skills.performance)},persuasion:{name:"Persuasion (Cha)",modifier:r(Te.CHA,t.skills.persuasion)},religion:{name:"Religion (Int)",modifier:r(Te.INT,t.skills.religion)},sleightOfHand:{name:"Sleight of Hand (Dex)",modifier:r(Te.DEX,t.skills.sleightOfHand)},stealth:{name:"Stealth (Dex)",modifier:r(Te.DEX,t.skills.stealth)},survival:{name:"Survival (Wis)",modifier:r(Te.WIS,t.skills.survival)}},attacks:t.attacks.map((e=>({attackModifier:n.abilityScores[e.attackAbility].modifier+e.attackModifier+(e.proficient?t.proficiency:0),fullDamageRoll:`${e.damageRoll}+${n.abilityScores[e.damageAbility].modifier+e.damageModifier}`}))),coin:{copper:o,silver:s,electrum:l,gold:a,platinum:i},totalWeight:t.equipment.reduce(((e,t)=>e+t.weight),0)}}(i)),1&t.$$.dirty[0]&&a(i),3&t.$$.dirty[0]&&console.log(i,o)},[i,o,function(){i.name=this.value,r(0,i)},function(){i.playerClass=this.value,r(0,i)},function(){i.level=A(this),r(0,i)},function(){i.background=this.value,r(0,i)},function(){i.race=this.value,r(0,i)},function(){i.alignment=this.value,r(0,i)},function(){i.exp=this.value,r(0,i)},function(e){i.abilityScores[e]=N(this.value),r(0,i),r(1,o),r(0,i)},function(){i.inspiration=this.checked,r(0,i)},function(){i.proficiency=N(this.value),r(0,i)},function(e){i.savingThrows[e]=this.checked,r(0,i),r(1,o),r(0,i)},function(e){i=e,r(0,i)},function(e){i=e,r(0,i)},function(e){i=e,r(0,i)},function(){i.hp.max=N(this.value),r(0,i)},function(){i.hp.current=N(this.value),r(0,i)},function(){i.hp.temp=N(this.value),r(0,i)},function(){i.hitDice.max=N(this.value),r(0,i)},function(){i.hitDice.current=N(this.value),r(0,i)},function(){i.hitDice.type=A(this),r(0,i)},e=>r(0,i.deathSaves.success=(i.deathSaves.success+1)%4,i),e=>r(0,i.deathSaves.failure=(i.deathSaves.failure+1)%4,i),function(e){i=e,r(0,i)},function(e){i=e,r(0,i)},function(e){i=e,r(0,i)},function(e){i=e,r(0,i)},function(e){i=e,r(0,i)}]}class kr extends be{constructor(e){super(),ge(this,e,wr,xr,l,{data:0},[-1,-1])}}function Sr(e){let t,n,r,o,a,l;const c=e[3].default,f=s(c,e,e[2],null);return{c(){t=x("div"),n=x("div"),f&&f.c(),E(n,"class","fixed top-0 bottom-0 left-0 p-2 w-64 bg-white shadow"),E(t,"class","fixed inset-0 z-40")},m(r,i){g(r,t,i),$(t,n),f&&f.m(n,null),o=!0,a||(l=[S(n,"click",I(e[4])),S(t,"click",e[5])],a=!0)},p(e,[t]){f&&f.p&&(!o||4&t)&&u(f,c,e,e[2],t,null,null)},i(t){o||(ce(f,t),V((()=>{r||(r=de(n,e[1],{},!0)),r.run(1)})),o=!0)},o(t){ue(f,t),r||(r=de(n,e[1],{},!1)),r.run(0),o=!1},d(e){e&&b(t),f&&f.d(e),e&&r&&r.end(),a=!1,i(l)}}}function Ir(e,t,n){let{$$slots:r={},$$scope:o}=t;const i=z();W((()=>{const e=document.getElementsByTagName("main")[0];return e.classList.add("filter","blur"),()=>e.classList.remove("filter","blur")}));return e.$$set=e=>{"$$scope"in e&&n(2,o=e.$$scope)},[i,function(e,{delay:t=0,duration:n=400,easing:r=Ke}={}){return{delay:t,duration:n,easing:r,css:e=>`transform: translate(-${100*(1-e)}%);`}},o,r,function(t){H(e,t)},()=>i("close")]}class Er extends be{constructor(e){super(),ge(this,e,Ir,Sr,l,{})}}function Nr(e,t,n){const r=e.slice();return r[9]=t[n],r}function Cr(e){let t,n;return t=new Er({props:{$$slots:{default:[Dr]},$$scope:{ctx:e}}}),t.$on("close",e[7]),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};4097&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ce(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function qr(e){let t,n,r,o,i=e[9].name+"";function a(){return e[6](e[9])}return{c(){t=x("li"),n=_(i)},m(e,i){g(e,t,i),$(t,n),r||(o=S(t,"click",a),r=!0)},p(t,r){e=t,1&r&&i!==(i=e[9].name+"")&&C(n,i)},d(e){e&&b(t),r=!1,o()}}}function Dr(e){let t,n,r,o,i,a,l,s=e[0],c=[];for(let t=0;t<s.length;t+=1)c[t]=qr(Nr(e,s,t));return{c(){t=x("span"),t.textContent="Characters",n=w(),r=x("ul");for(let e=0;e<c.length;e+=1)c[e].c();o=w(),i=x("li"),i.textContent="+",E(r,"class","ml-2")},m(s,u){g(s,t,u),g(s,n,u),g(s,r,u);for(let e=0;e<c.length;e+=1)c[e].m(r,null);$(r,o),$(r,i),a||(l=S(i,"click",e[4]),a=!0)},p(e,t){if(9&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const i=Nr(e,s,n);c[n]?c[n].p(i,t):(c[n]=qr(i),c[n].c(),c[n].m(r,o))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}},d(e){e&&b(t),e&&b(n),e&&b(r),y(c,e),a=!1,l()}}}function Ar(e){let t,n,r,o,i,a,l,s,c=e[1]&&Cr(e);return i=new kr({props:{data:e[2]}}),{c(){t=x("button"),t.textContent="menu",n=w(),c&&c.c(),r=w(),o=x("main"),me(i.$$.fragment),E(t,"class","material-icons m-2 text-gray-200"),E(o,"class","flex flex-col my-4 mx-auto container")},m(u,f){g(u,t,f),g(u,n,f),c&&c.m(u,f),g(u,r,f),g(u,o,f),he(i,o,null),a=!0,l||(s=S(t,"click",e[5]),l=!0)},p(e,[t]){e[1]?c?(c.p(e,t),2&t&&ce(c,1)):(c=Cr(e),c.c(),ce(c,1),c.m(r.parentNode,r)):c&&(le(),ue(c,1,1,(()=>{c=null})),se());const n={};4&t&&(n.data=e[2]),i.$set(n)},i(e){a||(ce(c),ce(i.$$.fragment,e),a=!0)},o(e){ue(c),ue(i.$$.fragment,e),a=!1},d(e){e&&b(t),e&&b(n),c&&c.d(e),e&&b(r),e&&b(o),ve(i),l=!1,s()}}}function Tr(e,t,n){var r;let{items:o}=t,i=!1,a=null!==(r=o[0])&&void 0!==r?r:new Xe;function l(e){n(2,a=e),n(1,i=!1)}return e.$$set=e=>{"items"in e&&n(0,o=e.items)},[o,i,a,l,function(){o.push(new Xe),n(0,o)},()=>n(1,i=!0),e=>l(e),()=>n(1,i=!1)]}class Rr extends be{constructor(e){super(),ge(this,e,Tr,Ar,l,{items:0})}}function jr(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Or(e){let n,r;return n=new Rr({props:{items:Object.values(e[0])}}),{c(){me(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:t,i(e){r||(ce(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){ve(n,e)}}}function Pr(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Mr(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!1,pending:Pr,then:Or,catch:jr,value:0,blocks:[,,,]};return function(e,t){const n=t.token={};function r(e,r,o,i){if(t.token!==n)return;t.resolved=i;let a=t.ctx;void 0!==o&&(a=a.slice(),a[o]=i);const l=e&&(t.current=e)(a);let s=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(le(),ue(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),se())})):t.block.d(1),l.c(),ce(l,1),l.m(t.mount(),t.anchor),s=!0),t.block=l,t.blocks&&(t.blocks[r]=l),s&&te()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=F();if(e.then((e=>{L(n),r(t.then,1,t.value,e),L(null)}),(e=>{if(L(n),r(t.catch,2,t.error,e),L(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}(we.getItems(),r),{c(){t=k(),r.block.c()},m(e,o){g(e,t,o),r.block.m(e,r.anchor=o),r.mount=()=>t.parentNode,r.anchor=t,n=!0},p(t,[n]){!function(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}(r,e=t,n)},i(e){n||(ce(r.block),n=!0)},o(e){for(let e=0;e<3;e+=1){ue(r.blocks[e])}n=!1},d(e){e&&b(t),r.block.d(e),r.token=null,r=null}}}function Br(e){return ke.extendPrototype(we),[]}return new class extends be{constructor(e){super(),ge(this,e,Br,Mr,l,{})}}({target:document.body})}(exprEval);
//# sourceMappingURL=bundle.js.map
